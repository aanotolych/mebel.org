function detect_old_ie(){if(!/MSIE (\d+\.\d+);/.test(navigator.userAgent))return!1;var o=new Number(RegExp.$1);return!(o>=9)&&(o>=8||(o>=7||(o>=6||(o>=5||void 0))))}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(o){window.setTimeout(o,20)}}(),function(o){function t(t,e){function i(){var o=document.documentElement,t=(window.pageXOffset||o.scrollLeft)-(o.clientLeft||0),e=(window.pageYOffset||o.scrollTop)-(o.clientTop||0);return{left:t,top:e}}function s(){var e=t.offset();if(v="auto"==co.options.zoomWidth?ao:co.options.zoomWidth,g="auto"==co.options.zoomHeight?po:co.options.zoomHeight,"#"==co.options.position.substr(0,1)?fo=o(co.options.position):fo.length=0,0!=fo.length)return!0;switch(lo){case"lens":case"inside":return!0;case"top":x=e.top,b=e.left,y=x-g,z=b;break;case"left":x=e.top,b=e.left,y=x,z=b-v;break;case"bottom":x=e.top,b=e.left,y=x+po,z=b;break;case"right":default:x=e.top,b=e.left,y=x,z=b+ao}return!(z+v>eo||z<0)}function n(){if("circle"==co.options.lensShape&&"lens"==co.options.position){q=E=Math.max(q,E);var o=(q+2*Math.max(_,Z))/2;Y.css({"-moz-border-radius":o,"-webkit-border-radius":o,"border-radius":o})}}function a(o,t,e,i){"lens"==co.options.position?(X.css({top:-(t-x)*N+E/2,left:-(o-b)*j+q/2}),co.options.bg&&(Y.css({"background-image":"url("+X.attr("src")+")","background-repeat":"no-repeat","background-position":-(o-b)*j+q/2+"px "+(-(t-x)*N+E/2)+"px"}),e&&i&&Y.css({"background-size":e+"px "+i+"px"}))):X.css({top:-D*N,left:-L*j})}function p(o,t){if(vo<-1&&(vo=-1),vo>1&&(vo=1),Q<$)var e=Q-(Q-1)*vo,i=v*e,s=i/B;else var e=$-($-1)*vo,s=g*e,i=s*B;K?(go=o,wo=t,xo=i,bo=s):(K||(yo=xo=i,zo=bo=s),j=i/u,N=s/m,q=v/j,E=g/N,n(),d(o,t),X.width(i),X.height(s),Y.width(q),Y.height(E),Y.css({top:D-_,left:L-Z}),R.css({top:-D,left:-L}),a(o,t,i,s))}function l(){var o=Co,t=ko,e=Oo,i=Mo,s=yo,p=zo;o+=(go-o)/co.options.smoothLensMove,t+=(wo-t)/co.options.smoothLensMove,e+=(go-e)/co.options.smoothZoomMove,i+=(wo-i)/co.options.smoothZoomMove,s+=(xo-s)/co.options.smoothScale,p+=(bo-p)/co.options.smoothScale,j=s/u,N=p/m,q=v/j,E=g/N,n(),d(o,t),X.width(s),X.height(p),Y.width(q),Y.height(E),Y.css({top:D-_,left:L-Z}),R.css({top:-D,left:-L}),d(e,i),a(o,t,s,p),Co=o,ko=t,Oo=e,Mo=i,yo=s,zo=p,K&&requestAnimFrame(l)}function d(o,t){o-=b,t-=x,L=o-q/2,D=t-E/2,"lens"!=co.options.position&&co.options.lensCollision&&(L<0&&(L=0),u>=q&&L>u-q&&(L=u-q),u<q&&(L=u/2-q/2),D<0&&(D=0),m>=E&&D>m-E&&(D=m-E),m<E&&(D=m/2-E/2))}function r(){"undefined"!=typeof A&&A.remove(),"undefined"!=typeof H&&H.remove(),"undefined"!=typeof to&&to.remove()}function c(e,s){switch("fullscreen"==co.options.position?(u=o(window).width(),m=o(window).height()):(u=t.width(),m=t.height()),W.css({top:m/2-W.height()/2,left:u/2-W.width()/2}),w=co.options.rootOutput||"fullscreen"==co.options.position?t.offset():t.position(),w.top=Math.round(w.top),w.left=Math.round(w.left),co.options.position){case"fullscreen":x=i().top,b=i().left,y=0,z=0;break;case"inside":x=w.top,b=w.left,y=0,z=0;break;case"top":x=w.top,b=w.left,y=x-g,z=b;break;case"left":x=w.top,b=w.left,y=x,z=b-v;break;case"bottom":x=w.top,b=w.left,y=x+m,z=b;break;case"right":default:x=w.top,b=w.left,y=x,z=b+u}x-=A.outerHeight()/2,b-=A.outerWidth()/2,"#"==co.options.position.substr(0,1)?fo=o(co.options.position):fo.length=0,0==fo.length&&"inside"!=co.options.position&&"fullscreen"!=co.options.position?(co.options.adaptive&&so&&no||(so=u,no=m),v="auto"==co.options.zoomWidth?u:co.options.zoomWidth,g="auto"==co.options.zoomHeight?m:co.options.zoomHeight,y+=co.options.Yoffset,z+=co.options.Xoffset,H.css({width:v+"px",height:g+"px",top:y,left:z}),"lens"!=co.options.position&&h.append(H)):"inside"==co.options.position||"fullscreen"==co.options.position?(v=u,g=m,H.css({width:v+"px",height:g+"px"}),A.append(H)):(v=fo.width(),g=fo.height(),co.options.rootOutput?(y=fo.offset().top,z=fo.offset().left,h.append(H)):(y=fo.position().top,z=fo.position().left,fo.parent().append(H)),y+=(fo.outerHeight()-g-H.outerHeight())/2,z+=(fo.outerWidth()-v-H.outerWidth())/2,H.css({width:v+"px",height:g+"px",top:y,left:z})),co.options.title&&""!=Ho&&("inside"==co.options.position||"lens"==co.options.position||"fullscreen"==co.options.position?(C=y,k=z,A.append(to)):(C=y+(H.outerHeight()-g)/2,k=z+(H.outerWidth()-v)/2,h.append(to)),to.css({width:v+"px",height:g+"px",top:C,left:k})),A.css({width:u+"px",height:m+"px",top:x,left:b}),S.css({width:u+"px",height:m+"px"}),co.options.tint&&"inside"!=co.options.position&&"fullscreen"!=co.options.position?S.css("background-color",co.options.tint):Ao&&S.css({"background-image":"url("+t.attr("src")+")","background-color":"#fff"}),T=new Image;var n="";switch(So&&(n="?r="+(new Date).getTime()),T.src=t.attr("xoriginal")+n,X=o(T),X.css("position","absolute"),T=new Image,T.src=t.attr("src"),R=o(T),R.css("position","absolute"),R.width(u),co.options.position){case"fullscreen":case"inside":H.append(X);break;case"lens":Y.append(X),co.options.bg&&X.css({display:"none"});break;default:H.append(X),Y.append(R)}}function f(o){var t=o.attr("title"),e=o.attr("xtitle");return e?e:t?t:""}this.xzoom=!0;var h,u,m,v,g,w,x,b,y,z,C,k,O,M,A,S,H,W,F,I,T,X,Y,R,q,E,L,D,Z,_,j,N,Q,$,B,G,J,K,P,U,V,oo,to,eo,io,so,no,ao,po,lo,ro,co=this,fo={},ho=(new Array,new Array),uo=0,mo=0,vo=0,go=0,wo=0,xo=0,bo=0,yo=0,zo=0,Co=0,ko=0,Oo=0,Mo=0,Ao=detect_old_ie(),So=/MSIE (\d+\.\d+);/.test(navigator.userAgent),Ho="";this.adaptive=function(){0!=so&&0!=no||(t.css("width",""),t.css("height",""),so=t.width(),no=t.height()),r(),eo=o(window).width(),io=o(window).height(),ao=t.width(),po=t.height();var e=!1;(so>eo||no>io)&&(e=!0),ao>so&&(ao=so),po>no&&(po=no),e?t.width("100%"):0!=so&&t.width(so),"fullscreen"!=lo&&(s()?co.options.position=lo:co.options.position=co.options.mposition),co.options.lensReverse||(ro=co.options.adaptiveReverse&&co.options.position==co.options.mposition)},this.xscroll=function(o){if(O=o.pageX||o.originalEvent.pageX,M=o.pageY||o.originalEvent.pageY,o.preventDefault(),o.xscale)vo=o.xscale,p(O,M);else{var t=-o.originalEvent.detail||o.originalEvent.wheelDelta||o.xdelta,e=O,i=M;Ao&&(e=P,i=U),t=t>0?-.05:.05,vo+=t,p(e,i)}},this.openzoom=function(t){switch(O=t.pageX,M=t.pageY,co.options.adaptive&&co.adaptive(),vo=co.options.defaultScale,K=!1,A=o("<div></div>"),""!=co.options.sourceClass&&A.addClass(co.options.sourceClass),A.css("position","absolute"),W=o("<div></div>"),""!=co.options.loadingClass&&W.addClass(co.options.loadingClass),W.css("position","absolute"),S=o('<div style="position: absolute; top: 0; left: 0;"></div>'),A.append(W),H=o("<div></div>"),""!=co.options.zoomClass&&"fullscreen"!=co.options.position&&H.addClass(co.options.zoomClass),H.css({position:"absolute",overflow:"hidden",opacity:1}),co.options.title&&""!=Ho&&(to=o("<div></div>"),oo=o("<div></div>"),to.css({position:"absolute",opacity:1}),co.options.titleClass&&oo.addClass(co.options.titleClass),oo.html("<span>"+Ho+"</span>"),to.append(oo),co.options.fadeIn&&to.css({opacity:0})),Y=o("<div></div>"),""!=co.options.lensClass&&Y.addClass(co.options.lensClass),Y.css({position:"absolute",overflow:"hidden"}),co.options.lens&&(lenstint=o("<div></div>"),lenstint.css({position:"absolute",background:co.options.lens,opacity:co.options.lensOpacity,width:"100%",height:"100%",top:0,left:0,"z-index":9999}),Y.append(lenstint)),c(O,M),"inside"!=co.options.position&&"fullscreen"!=co.options.position?((co.options.tint||Ao)&&A.append(S),co.options.fadeIn&&(S.css({opacity:0}),Y.css({opacity:0}),H.css({opacity:0})),h.append(A)):(co.options.fadeIn&&H.css({opacity:0}),h.append(A)),co.eventmove(A),co.eventleave(A),co.options.position){case"inside":y-=(H.outerHeight()-H.height())/2,z-=(H.outerWidth()-H.width())/2;break;case"top":y-=H.outerHeight()-H.height(),z-=(H.outerWidth()-H.width())/2;break;case"left":y-=(H.outerHeight()-H.height())/2,z-=H.outerWidth()-H.width();break;case"bottom":z-=(H.outerWidth()-H.width())/2;break;case"right":y-=(H.outerHeight()-H.height())/2}H.css({top:y,left:z}),X.xon("load",function(o){if(W.remove(),G=X.width(),J=X.height(),!co.options.openOnSmall&&(G<v||J<g))return co.closezoom(),o.preventDefault(),!1;co.options.scroll&&co.eventscroll(A),"inside"!=co.options.position&&"fullscreen"!=co.options.position?(A.append(Y),co.options.fadeIn?(S.fadeTo(300,co.options.tintOpacity),Y.fadeTo(300,1),H.fadeTo(300,1)):(S.css({opacity:co.options.tintOpacity}),Y.css({opacity:1}),H.css({opacity:1}))):co.options.fadeIn?H.fadeTo(300,1):H.css({opacity:1}),co.options.title&&""!=Ho&&(co.options.fadeIn?to.fadeTo(300,1):to.css({opacity:1})),co.options.adaptive&&(u<so||m<no)&&(R.width(u),R.height(m),G=u/so*G,J=m/no*J,X.width(G),X.height(J)),yo=xo=G,zo=bo=J,B=G/J,Q=G/v,$=J/g;var t,e=["padding-","border-"];_=Z=0;for(var i=0;i<e.length;i++)t=parseFloat(Y.css(e[i]+"top-width")),_+=t!==t?0:t,t=parseFloat(Y.css(e[i]+"bottom-width")),_+=t!==t?0:t,t=parseFloat(Y.css(e[i]+"left-width")),Z+=t!==t?0:t,t=parseFloat(Y.css(e[i]+"right-width")),Z+=t!==t?0:t;_/=2,Z/=2,Oo=Co=go=O,Mo=ko=wo=M,p(O,M),co.options.smooth&&(K=!0,requestAnimFrame(l)),co.eventclick(A)})},this.movezoom=function(o){O=o.pageX,M=o.pageY,Ao&&(P=O,U=M);var t=O-b,e=M-x;ro&&(o.pageX-=2*(t-u/2),o.pageY-=2*(e-m/2)),(t<0||t>u||e<0||e>m)&&A.trigger("mouseleave"),co.options.smooth?(go=o.pageX,wo=o.pageY):(n(),d(o.pageX,o.pageY),Y.css({top:D-_,left:L-Z}),R.css({top:-D,left:-L}),a(o.pageX,o.pageY,0,0))},this.eventdefault=function(){co.eventopen=function(o){o.xon("mouseenter",co.openzoom)},co.eventleave=function(o){o.xon("mouseleave",co.closezoom)},co.eventmove=function(o){o.xon("mousemove",co.movezoom)},co.eventscroll=function(o){o.xon("mousewheel DOMMouseScroll",co.xscroll)},co.eventclick=function(o){o.xon("click",function(o){t.trigger("click")})}},this.eventunbind=function(){t.xoff("mouseenter"),co.eventopen=function(o){},co.eventleave=function(o){},co.eventmove=function(o){},co.eventscroll=function(o){},co.eventclick=function(o){}},this.init=function(e){co.options=o.extend({},o.fn.xzoom.defaults,e),h=co.options.rootOutput?o("body"):t.parent(),lo=co.options.position,ro=co.options.lensReverse&&"inside"==co.options.position,co.options.smoothZoomMove<1&&(co.options.smoothZoomMove=1),co.options.smoothLensMove<1&&(co.options.smoothLensMove=1),co.options.smoothScale<1&&(co.options.smoothScale=1),co.options.adaptive&&o(window).xon("load",function(){so=t.width(),no=t.height(),co.adaptive(),o(window).resize(co.adaptive)}),co.eventdefault(),co.eventopen(t)},this.destroy=function(){co.eventunbind()},this.closezoom=function(){K=!1,co.options.fadeOut?(co.options.title&&""!=Ho&&to.fadeOut(299),"inside"!=co.options.position||"fullscreen"!=co.options.position?(H.fadeOut(299),A.fadeOut(300,function(){r()})):A.fadeOut(300,function(){r()})):r()},this.gallery=function(){var o,t=new Array,e=0;for(o=mo;o<ho.length;o++)t[e]=ho[o],e++;for(o=0;o<mo;o++)t[e]=ho[o],e++;return{index:mo,ogallery:ho,cgallery:t}},this.xappend=function(e){function i(i){r(),i.preventDefault(),co.options.activeClass&&(V.removeClass(co.options.activeClass),V=e,V.addClass(co.options.activeClass)),mo=o(this).data("xindex"),co.options.fadeTrans&&(I=new Image,I.src=t.attr("src"),F=o(I),F.css({position:"absolute",top:t.offset().top,left:t.offset().left,width:t.width(),height:t.height()}),o(document.body).append(F),F.fadeOut(200,function(){F.remove()}));var n=s.attr("href"),a=e.attr("xpreview")||e.attr("src");Ho=f(e),e.attr("title")&&t.attr("title",e.attr("title")),t.attr("xoriginal",n),t.removeAttr("style"),t.attr("src",a),co.options.adaptive&&(so=t.width(),no=t.height())}var s=e.parent();ho[uo]=s.attr("href"),s.data("xindex",uo),0==uo&&co.options.activeClass&&(V=e,V.addClass(co.options.activeClass)),0==uo&&co.options.title&&(Ho=f(e)),uo++,co.options.hover&&s.xon("mouseenter",s,i),s.xon("click",s,i)},this.init(e)}o.fn.xon=o.fn.on||o.fn.bind,o.fn.xoff=o.fn.off||o.fn.bind,o.fn.xzoom=function(e){var i,s;if(this.selector){var n=this.selector.split(",");for(var a in n)n[a]=o.trim(n[a]);this.each(function(a){if(1==n.length)if(0==a){if(i=o(this),"undefined"!=typeof i.data("xzoom"))return i.data("xzoom");i.x=new t(i,e)}else"undefined"!=typeof i.x&&(s=o(this),i.x.xappend(s));else if(o(this).is(n[0])&&0==a){if(i=o(this),"undefined"!=typeof i.data("xzoom"))return i.data("xzoom");i.x=new t(i,e)}else"undefined"==typeof i.x||o(this).is(n[0])||(s=o(this),i.x.xappend(s))})}else this.each(function(n){if(0==n){if(i=o(this),"undefined"!=typeof i.data("xzoom"))return i.data("xzoom");i.x=new t(i,e)}else"undefined"!=typeof i.x&&(s=o(this),i.x.xappend(s))});return"undefined"!=typeof i&&(i.data("xzoom",i.x),o(i).trigger("xzoom_ready"),i.x)},o.fn.xzoom.defaults={position:"right",mposition:"inside",rootOutput:!0,Xoffset:0,Yoffset:0,fadeIn:!0,fadeTrans:!0,fadeOut:!1,smooth:!0,smoothZoomMove:3,smoothLensMove:1,smoothScale:6,defaultScale:0,scroll:!0,tint:!1,tintOpacity:.5,lens:!1,lensOpacity:.5,lensShape:"box",lensCollision:!0,lensReverse:!1,openOnSmall:!0,zoomWidth:"auto",zoomHeight:"auto",sourceClass:"xzoom-source",loadingClass:"xzoom-loading",lensClass:"xzoom-lens",zoomClass:"xzoom-preview",activeClass:"xactive",hover:!1,adaptive:!0,adaptiveReverse:!1,title:!1,titleClass:"xzoom-caption",bg:!1}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInh6b29tLmpzIl0sIm5hbWVzIjpbImRldGVjdF9vbGRfaWUiLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaWV2ZXJzaW9uIiwiTnVtYmVyIiwiUmVnRXhwIiwiJDEiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbUZyYW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwib1JlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FsbGJhY2siLCJzZXRUaW1lb3V0IiwiJCIsInhvYmplY3QiLCJtT2JqIiwib3B0cyIsInNwb3MiLCJkb2MiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImxlZnQiLCJwYWdlWE9mZnNldCIsInNjcm9sbExlZnQiLCJjbGllbnRMZWZ0IiwidG9wIiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUb3AiLCJjbGllbnRUb3AiLCJhZGFwdGl2ZV9wb3NpdGlvbl9maXQiLCJtb2Zmc2V0Iiwib2Zmc2V0IiwibXciLCJjdXJyZW50Iiwib3B0aW9ucyIsInpvb21XaWR0aCIsInRzdyIsIm1oIiwiem9vbUhlaWdodCIsInRzaCIsInBvc2l0aW9uIiwic3Vic3RyIiwieHpvb21JRCIsImxlbmd0aCIsIm9wb3NpdGlvbiIsInN0b3AiLCJzbGVmdCIsIm10b3AiLCJtbGVmdCIsIndzdyIsImxlbnNTaGFwZSIsImx3IiwibGgiLCJNYXRoIiwibWF4IiwicmFkaXVzIiwibHRjIiwibGxjIiwibGVucyIsImNzcyIsIi1tb3otYm9yZGVyLXJhZGl1cyIsIi13ZWJraXQtYm9yZGVyLXJhZGl1cyIsImJvcmRlci1yYWRpdXMiLCJsZW5zT3V0cHV0IiwieCIsInkiLCJzeCIsInN5IiwiaW1nT2JqIiwiY29meSIsImNvZngiLCJiZyIsImJhY2tncm91bmQtaW1hZ2UiLCJhdHRyIiwiYmFja2dyb3VuZC1yZXBlYXQiLCJiYWNrZ3JvdW5kLXBvc2l0aW9uIiwiYmFja2dyb3VuZC1zaXplIiwibHQiLCJsbCIsInhzY2FsZSIsInNjYWxlIiwiYzEiLCJjMiIsImNjIiwiaXciLCJpaCIsIml3aCIsImZsYWciLCJ1IiwidiIsInN1Iiwic3YiLCJsc3UiLCJsc3YiLCJzdyIsInNoIiwic2V0X2xlbnMiLCJ3aWR0aCIsImhlaWdodCIsImxlbnNJbWciLCJsb29wWm9vbSIsImx1IiwibHYiLCJ4MiIsImxsdSIsInkyIiwibGx2Iiwic21vb3RoTGVuc01vdmUiLCJzbW9vdGhab29tTW92ZSIsInNtb290aFNjYWxlIiwibGVuc0NvbGxpc2lvbiIsInhyZW1vdmUiLCJzb3VyY2UiLCJyZW1vdmUiLCJwcmV2aWV3IiwiY2FwdGlvbl9jb250YWluZXIiLCJwcmVwYXJlX3pvb20iLCJsb2FkaW5nIiwicm9vdE91dHB1dCIsInJvdW5kIiwib3V0ZXJIZWlnaHQiLCJvdXRlcldpZHRoIiwiYWRhcHRpdmUiLCJvc3ciLCJvc2giLCJZb2Zmc2V0IiwiWG9mZnNldCIsInBhcmVudCIsImFwcGVuZCIsInRpdGxlIiwiY3RvcCIsImNsZWZ0IiwidGludCIsImllIiwiYmFja2dyb3VuZC1jb2xvciIsImltZyIsIkltYWdlIiwidGltZXN0YW1wIiwiYWllIiwiRGF0ZSIsImdldFRpbWUiLCJzcmMiLCJkaXNwbGF5IiwiZ2V0X3RpdGxlIiwiZWxlbWVudCIsIm90aXRsZSIsInhvdGl0bGUiLCJ0aGlzIiwieHpvb20iLCJteCIsIm15IiwidHJhbnMiLCJ0cmFuc0ltZyIsImltZ09iandpZHRoIiwiaW1nT2JqaGVpZ2h0IiwiaWV4IiwiaWV5IiwiYWN0aXZlIiwiY2FwdGlvbiIsIndzaCIsInJldmVyc2UiLCJpbWFnZUdhbGxlcnkiLCJBcnJheSIsImluZGV4IiwiY2luZGV4IiwidXBkYXRlIiwibXBvc2l0aW9uIiwibGVuc1JldmVyc2UiLCJhZGFwdGl2ZVJldmVyc2UiLCJ4c2Nyb2xsIiwiZXZlbnQiLCJwYWdlWCIsIm9yaWdpbmFsRXZlbnQiLCJwYWdlWSIsInByZXZlbnREZWZhdWx0IiwiZGVsdGEiLCJkZXRhaWwiLCJ3aGVlbERlbHRhIiwieGRlbHRhIiwib3Blbnpvb20iLCJkZWZhdWx0U2NhbGUiLCJzb3VyY2VDbGFzcyIsImFkZENsYXNzIiwibG9hZGluZ0NsYXNzIiwiem9vbUNsYXNzIiwib3ZlcmZsb3ciLCJvcGFjaXR5IiwidGl0bGVDbGFzcyIsImh0bWwiLCJmYWRlSW4iLCJsZW5zQ2xhc3MiLCJsZW5zdGludCIsImJhY2tncm91bmQiLCJsZW5zT3BhY2l0eSIsInotaW5kZXgiLCJldmVudG1vdmUiLCJldmVudGxlYXZlIiwieG9uIiwiZSIsIm9wZW5PblNtYWxsIiwiY2xvc2V6b29tIiwic2Nyb2xsIiwiZXZlbnRzY3JvbGwiLCJmYWRlVG8iLCJ0aW50T3BhY2l0eSIsInQiLCJvIiwiaSIsInBhcnNlRmxvYXQiLCJzbW9vdGgiLCJldmVudGNsaWNrIiwibW92ZXpvb20iLCJ0cmlnZ2VyIiwiZXZlbnRkZWZhdWx0IiwiZXZlbnRvcGVuIiwiZXZlbnR1bmJpbmQiLCJ4b2ZmIiwiaW5pdCIsImV4dGVuZCIsImZuIiwiZGVmYXVsdHMiLCJyZXNpemUiLCJkZXN0cm95IiwiZmFkZU91dCIsImdhbGxlcnkiLCJnIiwiaiIsIm9nYWxsZXJ5IiwiY2dhbGxlcnkiLCJ4YXBwZW5kIiwiT2JqIiwidGh1bWJjaGFuZ2UiLCJhY3RpdmVDbGFzcyIsInJlbW92ZUNsYXNzIiwiZGF0YSIsImZhZGVUcmFucyIsImJvZHkiLCJfeG9yaWciLCJsaW5rIiwiX3ByZXYiLCJyZW1vdmVBdHRyIiwiaG92ZXIiLCJvbiIsImJpbmQiLCJvZmYiLCJtYWluT2JqIiwic2VjT2JqIiwic2VsZWN0b3IiLCJlbCIsInNwbGl0IiwidHJpbSIsImVhY2giLCJpcyIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkFBa0JBLFFBQVNBLGlCQUNQLElBQUksbUJBQW1CQyxLQUFLQyxVQUFVQyxXQVkvQixPQUFPLENBWGIsSUFBSUMsR0FBVSxHQUFJQyxRQUFPQyxPQUFPQyxHQUNoQyxTQUFJSCxHQUFXLEtBRU5BLEdBQVcsSUFFWEEsR0FBVyxJQUVYQSxHQUFXLElBRVhBLEdBQVcsR0FBZixXQXRCUkksT0FBT0MsaUJBQW1CLFdBQ3hCLE1BQU9ELFFBQU9FLHVCQUNkRixPQUFPRyw2QkFDUEgsT0FBT0ksMEJBQ1BKLE9BQU9LLHdCQUNQTCxPQUFPTSx5QkFDUCxTQUFTQyxHQUNQUCxPQUFPUSxXQUFXRCxFQUFVLFFBb0JoQyxTQUFXRSxHQUtULFFBQVNDLEdBQVFDLEVBQU1DLEdBaURyQixRQUFTQyxLQUNQLEdBQUlDLEdBQU1DLFNBQVNDLGdCQUNmQyxHQUFRakIsT0FBT2tCLGFBQWVKLEVBQUlLLGFBQWVMLEVBQUlNLFlBQWMsR0FDbkVDLEdBQU9yQixPQUFPc0IsYUFBZVIsRUFBSVMsWUFBZVQsRUFBSVUsV0FBYSxFQUVyRSxRQUFRUCxLQUFNQSxFQUFNSSxJQUFLQSxHQUczQixRQUFTSSxLQUNQLEdBQUlDLEdBQVVmLEVBQUtnQixRQU1uQixJQUp5Q0MsRUFBUixRQUE3QkMsR0FBUUMsUUFBUUMsVUFBMEJDLEdBQWVILEdBQVFDLFFBQVFDLFVBQ25DRSxFQUFSLFFBQTlCSixHQUFRQyxRQUFRSSxXQUEyQkMsR0FBZU4sR0FBUUMsUUFBUUksV0FFbEMsS0FBeENMLEdBQVFDLFFBQVFNLFNBQVNDLE9BQU8sRUFBRSxHQUFXQyxHQUFVN0IsRUFBRW9CLEdBQVFDLFFBQVFNLFVBQWdCRSxHQUFRQyxPQUFTLEVBQ3hGLEdBQWxCRCxHQUFRQyxPQUFhLE9BQU8sQ0FFaEMsUUFBT0MsSUFDTCxJQUFLLE9BQ0wsSUFBSyxTQUNMLE9BQU8sQ0FFUCxLQUFLLE1BQ0hDLEVBQU9mLEVBQVFMLElBQ2ZxQixFQUFRaEIsRUFBUVQsS0FDaEIwQixFQUFPRixFQUFPUixFQUNkVyxFQUFRRixDQUNWLE1BQ0EsS0FBSyxPQUNIRCxFQUFPZixFQUFRTCxJQUNmcUIsRUFBUWhCLEVBQVFULEtBQ2hCMEIsRUFBT0YsRUFDUEcsRUFBUUYsRUFBUWQsQ0FDbEIsTUFDQSxLQUFLLFNBQ0hhLEVBQU9mLEVBQVFMLElBQ2ZxQixFQUFRaEIsRUFBUVQsS0FDaEIwQixFQUFPRixFQUFPTixHQUNkUyxFQUFRRixDQUNWLE1BQ0EsS0FBSyxRQUNMLFFBQ0VELEVBQU9mLEVBQVFMLElBQ2ZxQixFQUFRaEIsRUFBUVQsS0FDaEIwQixFQUFPRixFQUNQRyxFQUFRRixFQUFRVixHQUVwQixRQUFJWSxFQUFNaEIsRUFBR2lCLElBQU9ELEVBQU0sR0E4QjVCLFFBQVNFLEtBQ1AsR0FBaUMsVUFBN0JqQixHQUFRQyxRQUFRZ0IsV0FBcUQsUUFBNUJqQixHQUFRQyxRQUFRTSxTQUFvQixDQUUvRVcsRUFBS0MsRUFBS0MsS0FBS0MsSUFBSUgsRUFBSUMsRUFDdkIsSUFBSUcsSUFBVUosRUFBeUIsRUFBcEJFLEtBQUtDLElBQUlFLEVBQUlDLElBQVksQ0FDNUNDLEdBQUtDLEtBQUtDLHFCQUFzQkwsRUFBUU0sd0JBQXlCTixFQUFRTyxnQkFBaUJQLEtBSTlGLFFBQVNRLEdBQVdDLEVBQUdDLEVBQUdDLEVBQUlDLEdBQ0ksUUFBNUJsQyxHQUFRQyxRQUFRTSxVQUNsQjRCLEVBQU9ULEtBQUtsQyxNQUFPd0MsRUFBRXBCLEdBQVF3QixFQUFRakIsRUFBSyxFQUFJL0IsT0FBUTJDLEVBQUVsQixHQUFTd0IsRUFBUW5CLEVBQUssSUFDMUVsQixHQUFRQyxRQUFRcUMsS0FDbEJiLEVBQUtDLEtBQUthLG1CQUFvQixPQUFPSixFQUFPSyxLQUFLLE9BQU8sSUFBS0Msb0JBQXFCLFlBQWFDLHdCQUEwQlgsRUFBRWxCLEdBQVN3QixFQUFRbkIsRUFBSyxFQUFJLFNBQVNjLEVBQUVwQixHQUFRd0IsRUFBUWpCLEVBQUssR0FBSSxPQUNyTGMsR0FBTUMsR0FBSVQsRUFBS0MsS0FBS2lCLGtCQUFtQlYsRUFBRyxNQUFNQyxFQUFHLFNBR3pEQyxFQUFPVCxLQUFLbEMsS0FBTW9ELEVBQUtSLEVBQU1oRCxNQUFPeUQsRUFBS1IsSUFJN0MsUUFBU1MsR0FBT2YsRUFBR0MsR0FJakIsR0FISWUsUUFBWUEsT0FDWkEsR0FBUSxJQUFHQSxHQUFRLEdBRW5CQyxFQUFLQyxFQUNQLEdBQUlDLEdBQUtGLEdBQU1BLEVBQUssR0FBS0QsR0FDckJJLEVBQUtwRCxFQUFLbUQsRUFDVkUsRUFBS0QsRUFBS0UsTUFFZCxJQUFJSCxHQUFLRCxHQUFNQSxFQUFLLEdBQUtGLEdBQ3JCSyxFQUFLaEQsRUFBSzhDLEVBQ1ZDLEVBQUtDLEVBQUtDLENBRVpDLElBRUZDLEdBQUl4QixFQUNKeUIsR0FBSXhCLEVBQ0p5QixHQUFLTixFQUNMTyxHQUFLTixJQUVBRSxJQUNISyxHQUFNRixHQUFLTixFQUNYUyxHQUFNRixHQUFLTixHQUViZixFQUFPYyxFQUFLVSxFQUNaekIsRUFBT2dCLEVBQUtVLEVBQ1o1QyxFQUFLbkIsRUFBS3NDLEVBQ1ZsQixFQUFLZixFQUFLZ0MsRUFDVm5CLElBQ0E4QyxFQUFTaEMsRUFBR0MsR0FFWkcsRUFBTzZCLE1BQU1iLEdBQ2JoQixFQUFPOEIsT0FBT2IsR0FDZDNCLEVBQUt1QyxNQUFNOUMsR0FDWE8sRUFBS3dDLE9BQU85QyxHQUVaTSxFQUFLQyxLQUFLbEMsSUFBS29ELEVBQUtyQixFQUFLbkMsS0FBTXlELEVBQUtyQixJQUNwQzBDLEVBQVF4QyxLQUFLbEMsS0FBTW9ELEVBQUl4RCxNQUFPeUQsSUFDOUJmLEVBQVdDLEVBQUdDLEVBQUdtQixFQUFJQyxJQUl6QixRQUFTZSxLQUNQLEdBQUlwQyxHQUFJcUMsR0FDSnBDLEVBQUlxQyxHQUNKQyxFQUFLQyxHQUNMQyxFQUFLQyxHQUNMeEMsRUFBSzBCLEdBQ0x6QixFQUFLMEIsRUFDVDdCLEtBQU13QixHQUFJeEIsR0FBSy9CLEdBQVFDLFFBQVF5RSxlQUMvQjFDLElBQU13QixHQUFJeEIsR0FBS2hDLEdBQVFDLFFBQVF5RSxlQUUvQkosSUFBT2YsR0FBSWUsR0FBTXRFLEdBQVFDLFFBQVEwRSxlQUNqQ0gsSUFBT2hCLEdBQUlnQixHQUFNeEUsR0FBUUMsUUFBUTBFLGVBRWpDMUMsSUFBT3dCLEdBQUt4QixHQUFNakMsR0FBUUMsUUFBUTJFLFlBQ2xDMUMsSUFBT3dCLEdBQUt4QixHQUFNbEMsR0FBUUMsUUFBUTJFLFlBRWxDdkMsRUFBT0osRUFBSzRCLEVBQ1p6QixFQUFPRixFQUFLNEIsRUFFWjVDLEVBQUtuQixFQUFLc0MsRUFDVmxCLEVBQUtmLEVBQUtnQyxFQUNWbkIsSUFDQThDLEVBQVNoQyxFQUFHQyxHQUVaRyxFQUFPNkIsTUFBTS9CLEdBQ2JFLEVBQU84QixPQUFPL0IsR0FFZFQsRUFBS3VDLE1BQU05QyxHQUNYTyxFQUFLd0MsT0FBTzlDLEdBRVpNLEVBQUtDLEtBQUtsQyxJQUFLb0QsRUFBS3JCLEVBQUtuQyxLQUFNeUQsRUFBS3JCLElBQ3BDMEMsRUFBUXhDLEtBQUtsQyxLQUFNb0QsRUFBSXhELE1BQU95RCxJQUU5QmtCLEVBQVNPLEVBQUlFLEdBQ2IxQyxFQUFXQyxFQUFHQyxFQUFHQyxFQUFJQyxHQUVyQmtDLEdBQUtyQyxFQUNMc0MsR0FBS3JDLEVBQ0x1QyxHQUFNRCxFQUNORyxHQUFNRCxFQUNOYixHQUFNMUIsRUFDTjJCLEdBQU0xQixFQUVGb0IsR0FBTWxGLGlCQUFpQitGLEdBRzdCLFFBQVNKLEdBQVNoQyxFQUFHQyxHQUNuQkQsR0FBS2xCLEVBQ0xtQixHQUFLcEIsRUFDTGlDLEVBQUtkLEVBQUtiLEVBQUssRUFDZjBCLEVBQUtaLEVBQUtiLEVBQUssRUFFaUIsUUFBNUJuQixHQUFRQyxRQUFRTSxVQUFzQlAsR0FBUUMsUUFBUTRFLGdCQUNwRGhDLEVBQUssSUFBR0EsRUFBSyxHQUNiZ0IsR0FBTTNDLEdBQU0yQixFQUFLZ0IsRUFBSzNDLElBQUkyQixFQUFLZ0IsRUFBSzNDLEdBQ3BDMkMsRUFBSzNDLElBQUkyQixFQUFLZ0IsRUFBSyxFQUFJM0MsRUFBSyxHQUM1QjBCLEVBQUssSUFBR0EsRUFBSyxHQUNia0IsR0FBTTNDLEdBQU15QixFQUFLa0IsRUFBSzNDLElBQUl5QixFQUFLa0IsRUFBSzNDLEdBQ3BDMkMsRUFBSzNDLElBQUl5QixFQUFLa0IsRUFBSyxFQUFJM0MsRUFBSyxJQUlwQyxRQUFTMkQsS0FDYyxtQkFBVkMsSUFBdUJBLEVBQU9DLFNBQ25CLG1CQUFYQyxJQUF3QkEsRUFBUUQsU0FDWCxtQkFBckJFLEtBQWtDQSxHQUFrQkYsU0FHakUsUUFBU0csR0FBYXBELEVBQUdDLEdBcUJ2QixPQXBCZ0MsY0FBNUJoQyxHQUFRQyxRQUFRTSxVQUNsQnNELEVBQUtqRixFQUFFVCxRQUFRNkYsUUFDZkYsRUFBS2xGLEVBQUVULFFBQVE4RixXQUVmSixFQUFLL0UsRUFBS2tGLFFBQ1ZGLEVBQUtoRixFQUFLbUYsVUFHWm1CLEVBQVExRCxLQUFLbEMsSUFBS3NFLEVBQUssRUFBSXNCLEVBQVFuQixTQUFXLEVBQUc3RSxLQUFNeUUsRUFBSyxFQUFJdUIsRUFBUXBCLFFBQVUsSUFHaEZuRSxFQURFRyxHQUFRQyxRQUFRb0YsWUFBMEMsY0FBNUJyRixHQUFRQyxRQUFRTSxTQUN0Q3pCLEVBQUtnQixTQUVMaEIsRUFBS3lCLFdBSWpCVixFQUFRTCxJQUFNNEIsS0FBS2tFLE1BQU16RixFQUFRTCxLQUNqQ0ssRUFBUVQsS0FBT2dDLEtBQUtrRSxNQUFNekYsRUFBUVQsTUFFM0JZLEdBQVFDLFFBQVFNLFVBQ3JCLElBQUssYUFDSEssRUFBTzVCLElBQU9RLElBQ2RxQixFQUFRN0IsSUFBT0ksS0FDZjBCLEVBQU8sRUFDUEMsRUFBUSxDQUNWLE1BQ0EsS0FBSyxTQUNISCxFQUFPZixFQUFRTCxJQUNmcUIsRUFBUWhCLEVBQVFULEtBQ2hCMEIsRUFBTyxFQUNQQyxFQUFRLENBQ1YsTUFDQSxLQUFLLE1BQ0hILEVBQU9mLEVBQVFMLElBQ2ZxQixFQUFRaEIsRUFBUVQsS0FDaEIwQixFQUFPRixFQUFPUixFQUNkVyxFQUFRRixDQUNWLE1BQ0EsS0FBSyxPQUNIRCxFQUFPZixFQUFRTCxJQUNmcUIsRUFBUWhCLEVBQVFULEtBQ2hCMEIsRUFBT0YsRUFDUEcsRUFBUUYsRUFBUWQsQ0FDbEIsTUFDQSxLQUFLLFNBQ0hhLEVBQU9mLEVBQVFMLElBQ2ZxQixFQUFRaEIsRUFBUVQsS0FDaEIwQixFQUFPRixFQUFPa0QsRUFDZC9DLEVBQVFGLENBQ1YsTUFDQSxLQUFLLFFBQ0wsUUFDRUQsRUFBT2YsRUFBUUwsSUFDZnFCLEVBQVFoQixFQUFRVCxLQUNoQjBCLEVBQU9GLEVBQ1BHLEVBQVFGLEVBQVFnRCxFQUlwQmpELEdBQVFtRSxFQUFPUSxjQUFnQixFQUMvQjFFLEdBQVNrRSxFQUFPUyxhQUFlLEVBRWEsS0FBeEN4RixHQUFRQyxRQUFRTSxTQUFTQyxPQUFPLEVBQUUsR0FBV0MsR0FBVTdCLEVBQUVvQixHQUFRQyxRQUFRTSxVQUFnQkUsR0FBUUMsT0FBUyxFQUN4RixHQUFsQkQsR0FBUUMsUUFBMkMsVUFBNUJWLEdBQVFDLFFBQVFNLFVBQW1ELGNBQTNCUCxHQUFRQyxRQUFRTSxVQUU1RVAsR0FBUUMsUUFBUXdGLFVBQWFDLElBQVFDLEtBQU1ELEdBQU03QixFQUFJOEIsR0FBTTdCLEdBQ3ZCL0QsRUFBUixRQUE3QkMsR0FBUUMsUUFBUUMsVUFBMEIyRCxFQUFjN0QsR0FBUUMsUUFBUUMsVUFDbENFLEVBQVIsUUFBOUJKLEdBQVFDLFFBQVFJLFdBQTJCeUQsRUFBYzlELEdBQVFDLFFBQVFJLFdBRzdFUyxHQUFRZCxHQUFRQyxRQUFRMkYsUUFDeEI3RSxHQUFTZixHQUFRQyxRQUFRNEYsUUFFekJaLEVBQVF2RCxLQUFLc0MsTUFBT2pFLEVBQUssS0FBTWtFLE9BQVE3RCxFQUFLLEtBQU1aLElBQUtzQixFQUFNMUIsS0FBTTJCLElBQ25DLFFBQTVCZixHQUFRQyxRQUFRTSxVQUFvQnVGLEVBQU9DLE9BQU9kLElBQ2pCLFVBQTVCakYsR0FBUUMsUUFBUU0sVUFBb0QsY0FBNUJQLEdBQVFDLFFBQVFNLFVBQ2pFUixFQUFLOEQsRUFDTHpELEVBQUswRCxFQUVMbUIsRUFBUXZELEtBQUtzQyxNQUFPakUsRUFBSyxLQUFNa0UsT0FBUTdELEVBQUssT0FDNUMyRSxFQUFPZ0IsT0FBT2QsS0FFZGxGLEVBQUtVLEdBQVF1RCxRQUNiNUQsRUFBS0ssR0FBUXdELFNBRVRqRSxHQUFRQyxRQUFRb0YsWUFDbEJ2RSxFQUFPTCxHQUFRWCxTQUFTTixJQUN4QnVCLEVBQVFOLEdBQVFYLFNBQVNWLEtBRXpCMEcsRUFBT0MsT0FBT2QsS0FFZG5FLEVBQU9MLEdBQVFGLFdBQVdmLElBQzFCdUIsRUFBUU4sR0FBUUYsV0FBV25CLEtBRTNCcUIsR0FBUXFGLFNBQVNDLE9BQU9kLElBRzFCbkUsSUFBU0wsR0FBUThFLGNBQWdCbkYsRUFBSzZFLEVBQVFNLGVBQWlCLEVBQy9EeEUsSUFBVU4sR0FBUStFLGFBQWV6RixFQUFLa0YsRUFBUU8sY0FBZ0IsRUFDOURQLEVBQVF2RCxLQUFLc0MsTUFBT2pFLEVBQUssS0FBTWtFLE9BQVE3RCxFQUFLLEtBQU1aLElBQUtzQixFQUFNMUIsS0FBTTJCLEtBR2pFZixHQUFRQyxRQUFRK0YsT0FBa0IsSUFBVEEsS0FDSyxVQUE1QmhHLEdBQVFDLFFBQVFNLFVBQW9ELFFBQTVCUCxHQUFRQyxRQUFRTSxVQUFrRCxjQUE1QlAsR0FBUUMsUUFBUU0sVUFDaEcwRixFQUFPbkYsRUFDUG9GLEVBQVFuRixFQUNSZ0UsRUFBT2dCLE9BQU9iLE1BRWRlLEVBQU9uRixHQUFRbUUsRUFBUU0sY0FBY25GLEdBQUksRUFDekM4RixFQUFRbkYsR0FBU2tFLEVBQVFPLGFBQWF6RixHQUFJLEVBQzFDK0YsRUFBT0MsT0FBT2IsS0FFaEJBLEdBQWtCeEQsS0FBS3NDLE1BQU9qRSxFQUFLLEtBQU1rRSxPQUFRN0QsRUFBSyxLQUFNWixJQUFLeUcsRUFBTTdHLEtBQU04RyxLQUcvRW5CLEVBQU9yRCxLQUFLc0MsTUFBT0gsRUFBSyxLQUFNSSxPQUFRSCxFQUFLLEtBQU10RSxJQUFLb0IsRUFBTXhCLEtBQU15QixJQUNsRXNGLEVBQUt6RSxLQUFLc0MsTUFBT0gsRUFBSyxLQUFNSSxPQUFRSCxFQUFLLE9BQ3JDOUQsR0FBUUMsUUFBUWtHLE1BQXFDLFVBQTVCbkcsR0FBUUMsUUFBUU0sVUFBb0QsY0FBNUJQLEdBQVFDLFFBQVFNLFNBQ25GNEYsRUFBS3pFLElBQUksbUJBQW9CMUIsR0FBUUMsUUFBUWtHLE1BQ3RDQyxJQUNQRCxFQUFLekUsS0FBS2EsbUJBQW9CLE9BQU96RCxFQUFLMEQsS0FBSyxPQUFPLElBQUs2RCxtQkFBb0IsU0FJakZDLEVBQU0sR0FBSUMsTUFFVixJQUFJQyxHQUFZLEVBaUJoQixRQWhCSUMsS0FBS0QsRUFBWSxPQUFNLEdBQUtFLE9BQVFDLFdBQ3hDTCxFQUFJTSxJQUFNOUgsRUFBSzBELEtBQUssYUFBYWdFLEVBRWpDckUsRUFBU3ZELEVBQUUwSCxHQUNYbkUsRUFBT1QsSUFBSSxXQUFZLFlBSXZCNEUsRUFBTSxHQUFJQyxPQUNWRCxFQUFJTSxJQUFNOUgsRUFBSzBELEtBQUssT0FFcEIwQixFQUFVdEYsRUFBRTBILEdBQ1pwQyxFQUFReEMsSUFBSSxXQUFZLFlBQ3hCd0MsRUFBUUYsTUFBTUgsR0FHTjdELEdBQVFDLFFBQVFNLFVBQ3RCLElBQUssYUFDTCxJQUFLLFNBQ0gwRSxFQUFRYyxPQUFPNUQsRUFDakIsTUFDQSxLQUFLLE9BQ0hWLEVBQUtzRSxPQUFPNUQsR0FDUm5DLEdBQVFDLFFBQVFxQyxJQUFJSCxFQUFPVCxLQUFLbUYsUUFBUyxRQUMvQyxNQUNBLFNBQ0U1QixFQUFRYyxPQUFPNUQsR0FDZlYsRUFBS3NFLE9BQU83QixJQXVVbEIsUUFBUzRDLEdBQVVDLEdBQ2pCLEdBQUlDLEdBQVNELEVBQVF2RSxLQUFLLFNBQ3RCeUUsRUFBVUYsRUFBUXZFLEtBQUssU0FDM0IsT0FBSXlFLEdBQ0tBLEVBQ0VELEVBQ0ZBLEVBRUEsR0ExdUJYRSxLQUFLQyxPQUFRLENBQ2IsSUFDSXJCLEdBR0FqQyxFQUFJQyxFQUFJL0QsRUFBSUssRUFBSVAsRUFBU2UsRUFBTUMsRUFBT0MsRUFBTUMsRUFBT2tGLEVBQU1DLEVBQU9rQixFQUFJQyxFQUNwRXRDLEVBQVFvQixFQUFNbEIsRUFBU0csRUFBU2tDLEVBQU9DLEVBRXZDakIsRUFBS25FLEVBQVFWLEVBQU15QyxFQUNuQmhELEVBQUlDLEVBQUkwQixFQUFJRCxFQUFJcEIsRUFBS0QsRUFBbUJjLEVBQU1ELEVBQU1ZLEVBQUlDLEVBQUlJLEVBQzVEbUUsRUFBYUMsRUFDYm5FLEVBQzBFb0UsRUFBS0MsRUFDL0VDLEVBQW9CQyxHQUFTM0MsR0FHN0JsRSxHQUFLOEcsR0FBS3BDLEdBQUtDLEdBQUt4RixHQUFLRyxHQUFLSyxHQUFXb0gsR0FmekMvSCxHQUFVa0gsS0FFVnpHLE1BSUF1SCxJQUQ0RCxHQUFJQyxPQUNqRCxHQUFJQSxRQUFTQyxHQUFRLEVBQUdDLEdBQVMsRUFFaUJwRixHQUFRLEVBRW5FUSxHQUFJLEVBQUdDLEdBQUksRUFBR0MsR0FBSyxFQUFHQyxHQUFLLEVBQUdDLEdBQU0sRUFBR0MsR0FBTSxFQUFHUSxHQUFLLEVBQUdDLEdBQUssRUFBR0UsR0FBTSxFQUFHRSxHQUFNLEVBQ3JGMkIsR0FBS3pJLGdCQUFpQjhJLEdBQU0sbUJBQW1CN0ksS0FBS0MsVUFBVUMsV0FDdERrSSxHQUFRLEVBS3BCa0IsTUFBS3pCLFNBQVcsV0FDSCxHQUFQQyxJQUFtQixHQUFQQyxLQUNkN0csRUFBSzRDLElBQUksUUFBUyxJQUNsQjVDLEVBQUs0QyxJQUFJLFNBQVUsSUFDbkJnRSxHQUFNNUcsRUFBS2tGLFFBQ1gyQixHQUFNN0csRUFBS21GLFVBR2JhLElBQ0E5RCxHQUFNcEMsRUFBRVQsUUFBUTZGLFFBQ2hCOEQsR0FBTWxKLEVBQUVULFFBQVE4RixTQUVoQjlELEdBQU1yQixFQUFLa0YsUUFDWDFELEdBQU14QixFQUFLbUYsUUFFWCxJQUFJbUUsSUFBUyxHQUNUMUMsR0FBSTFFLElBQU8yRSxHQUFJbUMsTUFBS00sR0FBUyxHQUU3QmpJLEdBQU11RixLQUFLdkYsR0FBTXVGLElBQ2pCcEYsR0FBTXFGLEtBQUtyRixHQUFNcUYsSUFDakJ5QyxFQUNGdEosRUFBS2tGLE1BQU0sUUFFQSxHQUFQMEIsSUFBVTVHLEVBQUtrRixNQUFNMEIsSUFFVixjQUFiL0UsS0FBK0JmLElBQXlCSSxHQUFRQyxRQUFRTSxTQUFXSSxHQUFnQlgsR0FBUUMsUUFBUU0sU0FBV1AsR0FBUUMsUUFBUW9JLFdBQzdJckksR0FBUUMsUUFBUXFJLGNBQWFQLEdBQVUvSCxHQUFRQyxRQUFRc0ksaUJBQW1CdkksR0FBUUMsUUFBUU0sVUFBWVAsR0FBUUMsUUFBUW9JLFlBc0Q3SG5CLEtBQUtzQixRQUFVLFNBQVNDLEdBTXRCLEdBTEFyQixFQUFLcUIsRUFBTUMsT0FBU0QsRUFBTUUsY0FBY0QsTUFDeENyQixFQUFLb0IsRUFBTUcsT0FBU0gsRUFBTUUsY0FBY0MsTUFFeENILEVBQU1JLGlCQUVGSixFQUFNM0YsT0FDUkMsR0FBUTBGLEVBQU0zRixPQUNkQSxFQUFPc0UsRUFBSUMsT0FDTixDQUNMLEdBQUl5QixJQUFTTCxFQUFNRSxjQUFjSSxRQUFVTixFQUFNRSxjQUFjSyxZQUFjUCxFQUFNUSxPQUMvRWxILEVBQUlxRixFQUNKcEYsRUFBSXFGLENBQ0pqQixNQUNGckUsRUFBSTJGLEVBQ0oxRixFQUFJMkYsR0FHU21CLEVBQVhBLEVBQVEsT0FBK0IsSUFFM0MvRixJQUFTK0YsRUFFVGhHLEVBQU9mLEVBQUdDLEtBdVNka0YsS0FBS2dDLFNBQVcsU0FBVVQsR0F1RXRCLE9BdEVBckIsRUFBS3FCLEVBQU1DLE1BQU9yQixFQUFLb0IsRUFBTUcsTUFFekI1SSxHQUFRQyxRQUFRd0YsVUFBVXpGLEdBQVF5RixXQUN0QzFDLEdBQVEvQyxHQUFRQyxRQUFRa0osYUFBYzdGLEdBQU8sRUFHN0N5QixFQUFTbkcsRUFBRSxlQUN3QixJQUEvQm9CLEdBQVFDLFFBQVFtSixhQUFtQnJFLEVBQU9zRSxTQUFTckosR0FBUUMsUUFBUW1KLGFBQ3ZFckUsRUFBT3JELElBQUksV0FBWSxZQUd2QjBELEVBQVV4RyxFQUFFLGVBQ3dCLElBQWhDb0IsR0FBUUMsUUFBUXFKLGNBQW9CbEUsRUFBUWlFLFNBQVNySixHQUFRQyxRQUFRcUosY0FDekVsRSxFQUFRMUQsSUFBSSxXQUFZLFlBRXhCeUUsRUFBT3ZILEVBQUUsNERBRVRtRyxFQUFPZ0IsT0FBT1gsR0FHZEgsRUFBVXJHLEVBQUUsZUFDcUIsSUFBN0JvQixHQUFRQyxRQUFRc0osV0FBK0MsY0FBNUJ2SixHQUFRQyxRQUFRTSxVQUEwQjBFLEVBQVFvRSxTQUFTckosR0FBUUMsUUFBUXNKLFdBQ2xIdEUsRUFBUXZELEtBQUtuQixTQUFVLFdBQVlpSixTQUFVLFNBQVVDLFFBQVMsSUFHNUR6SixHQUFRQyxRQUFRK0YsT0FBa0IsSUFBVEEsS0FDM0JkLEdBQW9CdEcsRUFBRSxlQUN0QmlKLEdBQVVqSixFQUFFLGVBQ1pzRyxHQUFrQnhELEtBQUtuQixTQUFVLFdBQVlrSixRQUFTLElBQ2xEekosR0FBUUMsUUFBUXlKLFlBQVk3QixHQUFRd0IsU0FBU3JKLEdBQVFDLFFBQVF5SixZQUNqRTdCLEdBQVE4QixLQUFLLFNBQVMzRCxHQUFNLFdBQzVCZCxHQUFrQmEsT0FBTzhCLElBQ3JCN0gsR0FBUUMsUUFBUTJKLFFBQVExRSxHQUFrQnhELEtBQUsrSCxRQUFRLEtBSTdEaEksRUFBTzdDLEVBQUUsZUFDd0IsSUFBN0JvQixHQUFRQyxRQUFRNEosV0FBaUJwSSxFQUFLNEgsU0FBU3JKLEdBQVFDLFFBQVE0SixXQUNuRXBJLEVBQUtDLEtBQUtuQixTQUFVLFdBQVlpSixTQUFVLFdBR3RDeEosR0FBUUMsUUFBUXdCLE9BQ2xCcUksU0FBV2xMLEVBQUUsZUFDYmtMLFNBQVNwSSxLQUFLbkIsU0FBVSxXQUFZd0osV0FBWS9KLEdBQVFDLFFBQVF3QixLQUFNZ0ksUUFBU3pKLEdBQVFDLFFBQVErSixZQUFhaEcsTUFBTyxPQUFRQyxPQUFRLE9BQVF6RSxJQUFLLEVBQUdKLEtBQU0sRUFBRzZLLFVBQVcsT0FDdkt4SSxFQUFLc0UsT0FBTytELFdBR2QzRSxFQUFhaUMsRUFBSUMsR0FFZSxVQUE1QnJILEdBQVFDLFFBQVFNLFVBQW9ELGNBQTVCUCxHQUFRQyxRQUFRTSxXQUN0RFAsR0FBUUMsUUFBUWtHLE1BQVFDLEtBQUlyQixFQUFPZ0IsT0FBT0ksR0FFMUNuRyxHQUFRQyxRQUFRMkosU0FDbEJ6RCxFQUFLekUsS0FBSytILFFBQVEsSUFDbEJoSSxFQUFLQyxLQUFLK0gsUUFBUSxJQUNsQnhFLEVBQVF2RCxLQUFLK0gsUUFBUSxLQUV2QjNELEVBQU9DLE9BQU9oQixLQUVWL0UsR0FBUUMsUUFBUTJKLFFBQVEzRSxFQUFRdkQsS0FBSytILFFBQVEsSUFDakQzRCxFQUFPQyxPQUFPaEIsSUFJaEIvRSxHQUFRa0ssVUFBVW5GLEdBR2xCL0UsR0FBUW1LLFdBQVdwRixHQUdaL0UsR0FBUUMsUUFBUU0sVUFDckIsSUFBSyxTQUNITyxJQUFTbUUsRUFBUU0sY0FBZ0JOLEVBQVFoQixVQUFZLEVBQ3JEbEQsSUFBVWtFLEVBQVFPLGFBQWVQLEVBQVFqQixTQUFXLENBQ3RELE1BQ0EsS0FBSyxNQUNIbEQsR0FBUW1FLEVBQVFNLGNBQWdCTixFQUFRaEIsU0FDeENsRCxJQUFVa0UsRUFBUU8sYUFBZVAsRUFBUWpCLFNBQVcsQ0FDdEQsTUFDQSxLQUFLLE9BQ0hsRCxJQUFTbUUsRUFBUU0sY0FBaUJOLEVBQVFoQixVQUFZLEVBQ3REbEQsR0FBU2tFLEVBQVFPLGFBQWVQLEVBQVFqQixPQUMxQyxNQUNBLEtBQUssU0FDSGpELElBQVVrRSxFQUFRTyxhQUFlUCxFQUFRakIsU0FBVyxDQUN0RCxNQUNBLEtBQUssUUFDSGxELElBQVNtRSxFQUFRTSxjQUFnQk4sRUFBUWhCLFVBQVksRUFHekRnQixFQUFRdkQsS0FBS2xDLElBQUtzQixFQUFNMUIsS0FBTTJCLElBRzlCb0IsRUFBT2lJLElBQUksT0FBUSxTQUFTQyxHQU0xQixHQUxBakYsRUFBUUosU0FFUndDLEVBQWNyRixFQUFPNkIsUUFDckJ5RCxFQUFldEYsRUFBTzhCLFVBRWpCakUsR0FBUUMsUUFBUXFLLGNBQWdCOUMsRUFBY3pILEdBQU0wSCxFQUFlckgsR0FHdEUsTUFGQUosSUFBUXVLLFlBQ1JGLEVBQUV4QixrQkFDSyxDQUlMN0ksSUFBUUMsUUFBUXVLLFFBQVF4SyxHQUFReUssWUFBWTFGLEdBRWhCLFVBQTVCL0UsR0FBUUMsUUFBUU0sVUFBb0QsY0FBNUJQLEdBQVFDLFFBQVFNLFVBRTFEd0UsRUFBT2dCLE9BQU90RSxHQUNWekIsR0FBUUMsUUFBUTJKLFFBQ2xCekQsRUFBS3VFLE9BQU8sSUFBSzFLLEdBQVFDLFFBQVEwSyxhQUNqQ2xKLEVBQUtpSixPQUFPLElBQUssR0FDakJ6RixFQUFReUYsT0FBTyxJQUFJLEtBRW5CdkUsRUFBS3pFLEtBQUsrSCxRQUFTekosR0FBUUMsUUFBUTBLLGNBQ25DbEosRUFBS0MsS0FBSytILFFBQVMsSUFDbkJ4RSxFQUFRdkQsS0FBSytILFFBQVMsTUFHcEJ6SixHQUFRQyxRQUFRMkosT0FDbEIzRSxFQUFReUYsT0FBTyxJQUFJLEdBRW5CekYsRUFBUXZELEtBQUsrSCxRQUFTLElBSXRCekosR0FBUUMsUUFBUStGLE9BQWtCLElBQVRBLEtBQ3ZCaEcsR0FBUUMsUUFBUTJKLE9BQVExRSxHQUFrQndGLE9BQU8sSUFBSSxHQUFTeEYsR0FBa0J4RCxLQUFLK0gsUUFBUyxLQUdoR3pKLEdBQVFDLFFBQVF3RixXQUVkNUIsRUFBRzZCLElBQU81QixFQUFHNkIsTUFDZnpCLEVBQVFGLE1BQU1ILEdBQ2RLLEVBQVFELE9BQU9ILEdBRWYwRCxFQUFjM0QsRUFBRzZCLEdBQU04QixFQUN2QkMsRUFBZTNELEVBQUc2QixHQUFNOEIsRUFFeEJ0RixFQUFPNkIsTUFBTXdELEdBQ2JyRixFQUFPOEIsT0FBT3dELElBS2xCOUQsR0FBTUYsR0FBSytELEVBQ1g1RCxHQUFNRixHQUFLK0QsRUFDWHBFLEVBQU1tRSxFQUFjQyxFQUNwQnpFLEVBQUt3RSxFQUFjekgsRUFDbkJrRCxFQUFLd0UsRUFBZXJILENBS3BCLElBQUl3SyxHQUFHQyxHQUFLLFdBQVcsVUFDdkJ0SixHQUFNQyxFQUFNLENBQ1osS0FBSSxHQUFJc0osR0FBSSxFQUFHQSxFQUFFRCxFQUFFbkssT0FBT29LLElBQ3hCRixFQUFJRyxXQUFXdEosRUFBS0MsSUFBSW1KLEVBQUVDLEdBQUcsY0FDN0J2SixHQUFPcUosSUFBTUEsRUFBSSxFQUFJQSxFQUNyQkEsRUFBSUcsV0FBV3RKLEVBQUtDLElBQUltSixFQUFFQyxHQUFHLGlCQUM3QnZKLEdBQU9xSixJQUFNQSxFQUFJLEVBQUlBLEVBQ3JCQSxFQUFJRyxXQUFXdEosRUFBS0MsSUFBSW1KLEVBQUVDLEdBQUcsZUFDN0J0SixHQUFPb0osSUFBTUEsRUFBSSxFQUFJQSxFQUNyQkEsRUFBSUcsV0FBV3RKLEVBQUtDLElBQUltSixFQUFFQyxHQUFHLGdCQUM3QnRKLEdBQU9vSixJQUFNQSxFQUFJLEVBQUlBLENBRXZCckosSUFBTyxFQUNQQyxHQUFPLEVBS1ArQyxHQUFNSCxHQUFLYixHQUFJNkQsRUFDZjNDLEdBQU1KLEdBQUtiLEdBQUk2RCxFQUNmdkUsRUFBT3NFLEVBQUlDLEdBRVBySCxHQUFRQyxRQUFRK0ssU0FBUzFILEdBQU8sRUFBTWxGLGlCQUFpQitGLElBRTNEbkUsR0FBUWlMLFdBQVdsRyxNQVl6Qm1DLEtBQUtnRSxTQUFXLFNBQVN6QyxHQUN2QnJCLEVBQUtxQixFQUFNQyxNQUNYckIsRUFBS29CLEVBQU1HLE1BQ1B4QyxLQUNGc0IsRUFBTU4sRUFDTk8sRUFBTU4sRUFHUixJQUFJdEYsR0FBSXFGLEVBQUt2RyxFQUNUbUIsRUFBSXFGLEVBQUt6RyxDQUVUbUgsTUFDRlUsRUFBTUMsT0FBd0IsR0FBZDNHLEVBQUk4QixFQUFLLEdBQ3pCNEUsRUFBTUcsT0FBd0IsR0FBZDVHLEVBQUk4QixFQUFLLEtBR3ZCL0IsRUFBSSxHQUFLQSxFQUFJOEIsR0FBTTdCLEVBQUksR0FBS0EsRUFBSThCLElBQUlpQixFQUFPb0csUUFBUSxjQUNuRG5MLEdBQVFDLFFBQVErSyxRQUNsQnpILEdBQUlrRixFQUFNQyxNQUNWbEYsR0FBSWlGLEVBQU1HLFFBR1YzSCxJQUNBOEMsRUFBUzBFLEVBQU1DLE1BQU9ELEVBQU1HLE9BQzVCbkgsRUFBS0MsS0FBS2xDLElBQUtvRCxFQUFLckIsRUFBS25DLEtBQU15RCxFQUFLckIsSUFDcEMwQyxFQUFReEMsS0FBS2xDLEtBQU1vRCxFQUFJeEQsTUFBT3lELElBQzlCZixFQUFXMkcsRUFBTUMsTUFBTUQsRUFBTUcsTUFBTyxFQUFHLEtBSTNDMUIsS0FBS2tFLGFBQWUsV0FDbEJwTCxHQUFRcUwsVUFBWSxTQUFTdEUsR0FDM0JBLEVBQVFxRCxJQUFJLGFBQWNwSyxHQUFRa0osV0FHcENsSixHQUFRbUssV0FBYSxTQUFTcEQsR0FDNUJBLEVBQVFxRCxJQUFJLGFBQWNwSyxHQUFRdUssWUFHcEN2SyxHQUFRa0ssVUFBWSxTQUFTbkQsR0FDM0JBLEVBQVFxRCxJQUFJLFlBQWFwSyxHQUFRa0wsV0FHbkNsTCxHQUFReUssWUFBYyxTQUFTMUQsR0FDN0JBLEVBQVFxRCxJQUFJLDRCQUE2QnBLLEdBQVF3SSxVQUduRHhJLEdBQVFpTCxXQUFhLFNBQVNsRSxHQUM1QkEsRUFBUXFELElBQUksUUFBUyxTQUFTM0IsR0FDNUIzSixFQUFLcU0sUUFBUSxhQUtuQmpFLEtBQUtvRSxZQUFjLFdBQ2pCeE0sRUFBS3lNLEtBQUssY0FDVnZMLEdBQVFxTCxVQUFZLFNBQVN0RSxLQUM3Qi9HLEdBQVFtSyxXQUFhLFNBQVNwRCxLQUM5Qi9HLEdBQVFrSyxVQUFZLFNBQVNuRCxLQUM3Qi9HLEdBQVF5SyxZQUFjLFNBQVMxRCxLQUMvQi9HLEdBQVFpTCxXQUFhLFNBQVNsRSxNQUdoQ0csS0FBS3NFLEtBQU8sU0FBVXZMLEdBRXBCRCxHQUFRQyxRQUFVckIsRUFBRTZNLFVBQVU3TSxFQUFFOE0sR0FBR3ZFLE1BQU13RSxTQUFVMUwsR0FHakQ2RixFQURFOUYsR0FBUUMsUUFBUW9GLFdBQ1R6RyxFQUFFLFFBRUZFLEVBQUtnSCxTQUdoQm5GLEdBQVlYLEdBQVFDLFFBQVFNLFNBRTVCd0gsR0FBVS9ILEdBQVFDLFFBQVFxSSxhQUEyQyxVQUE1QnRJLEdBQVFDLFFBQVFNLFNBR3JEUCxHQUFRQyxRQUFRMEUsZUFBaUIsSUFBRzNFLEdBQVFDLFFBQVEwRSxlQUFpQixHQUNyRTNFLEdBQVFDLFFBQVF5RSxlQUFpQixJQUFHMUUsR0FBUUMsUUFBUXlFLGVBQWlCLEdBQ3JFMUUsR0FBUUMsUUFBUTJFLFlBQWMsSUFBRzVFLEdBQVFDLFFBQVEyRSxZQUFjLEdBSy9ENUUsR0FBUUMsUUFBUXdGLFVBQ2xCN0csRUFBRVQsUUFBUWlNLElBQUksT0FBTyxXQUNuQjFFLEdBQU01RyxFQUFLa0YsUUFDWDJCLEdBQU03RyxFQUFLbUYsU0FFWGpFLEdBQVF5RixXQUNSN0csRUFBRVQsUUFBUXlOLE9BQU81TCxHQUFReUYsWUFHN0J6RixHQUFRb0wsZUFDUnBMLEdBQVFxTCxVQUFVdk0sSUFHcEJvSSxLQUFLMkUsUUFBVSxXQUNiN0wsR0FBUXNMLGVBR1ZwRSxLQUFLcUQsVUFBWSxXQUNmakgsR0FBTyxFQUNIdEQsR0FBUUMsUUFBUTZMLFNBQ2Q5TCxHQUFRQyxRQUFRK0YsT0FBa0IsSUFBVEEsSUFBYWQsR0FBa0I0RyxRQUFRLEtBQ3BDLFVBQTVCOUwsR0FBUUMsUUFBUU0sVUFBb0QsY0FBNUJQLEdBQVFDLFFBQVFNLFVBQzFEMEUsRUFBUTZHLFFBQVEsS0FDaEIvRyxFQUFPK0csUUFBUSxJQUFLLFdBQVdoSCxPQUUvQkMsRUFBTytHLFFBQVEsSUFBSyxXQUFXaEgsT0FHakNBLEtBSUpvQyxLQUFLNkUsUUFBVSxXQUNiLEdBQ0lqQixHQURBa0IsRUFBSSxHQUFJL0QsT0FDTmdFLEVBQUksQ0FDVixLQUFLbkIsRUFBSTNDLEdBQVEyQyxFQUFFOUMsR0FBYXRILE9BQVFvSyxJQUN0Q2tCLEVBQUVDLEdBQUtqRSxHQUFhOEMsR0FBR21CLEdBRXpCLEtBQUtuQixFQUFJLEVBQUdBLEVBQUUzQyxHQUFRMkMsSUFDcEJrQixFQUFFQyxHQUFLakUsR0FBYThDLEdBQUdtQixHQUd6QixRQUFRL0QsTUFBT0MsR0FBUStELFNBQVVsRSxHQUFjbUUsU0FBVUgsSUFlM0Q5RSxLQUFLa0YsUUFBVSxTQUFTQyxHQVN0QixRQUFTQyxHQUFZN0QsR0FDbkIzRCxJQUNBMkQsRUFBTUksaUJBQ0Y3SSxHQUFRQyxRQUFRc00sY0FDbEIzRSxFQUFPNEUsWUFBWXhNLEdBQVFDLFFBQVFzTSxhQUNuQzNFLEVBQVN5RSxFQUNUekUsRUFBT3lCLFNBQVNySixHQUFRQyxRQUFRc00sY0FFbENwRSxHQUFTdkosRUFBRXNJLE1BQU11RixLQUFLLFVBQ2xCek0sR0FBUUMsUUFBUXlNLFlBQ2xCbkYsRUFBVyxHQUFJaEIsT0FDZmdCLEVBQVNYLElBQU05SCxFQUFLMEQsS0FBSyxPQUN6QjhFLEVBQVExSSxFQUFFMkksR0FDVkQsRUFBTTVGLEtBQUtuQixTQUFVLFdBQVlmLElBQUtWLEVBQUtnQixTQUFTTixJQUFLSixLQUFNTixFQUFLZ0IsU0FBU1YsS0FBTTRFLE1BQU9sRixFQUFLa0YsUUFBU0MsT0FBUW5GLEVBQUttRixXQUNySHJGLEVBQUVNLFNBQVN5TixNQUFNNUcsT0FBT3VCLEdBQ3hCQSxFQUFNd0UsUUFBUSxJQUFLLFdBQVl4RSxFQUFNdEMsV0FFdkMsSUFBSTRILEdBQVNDLEVBQUtySyxLQUFLLFFBQ25Cc0ssRUFBUVQsRUFBSTdKLEtBQUssYUFBZTZKLEVBQUk3SixLQUFLLE1BRTdDd0QsSUFBUWMsRUFBVXVGLEdBQ2RBLEVBQUk3SixLQUFLLFVBQVUxRCxFQUFLMEQsS0FBSyxRQUFRNkosRUFBSTdKLEtBQUssVUFHbEQxRCxFQUFLMEQsS0FBSyxZQUFZb0ssR0FDdEI5TixFQUFLaU8sV0FBVyxTQUNoQmpPLEVBQUswRCxLQUFLLE1BQU9zSyxHQUNiOU0sR0FBUUMsUUFBUXdGLFdBQ2xCQyxHQUFNNUcsRUFBS2tGLFFBQ1gyQixHQUFNN0csRUFBS21GLFVBckNmLEdBQUk0SSxHQUFPUixFQUFJdkcsUUFFZmtDLElBQWFFLElBQVMyRSxFQUFLckssS0FBSyxRQUNoQ3FLLEVBQUtKLEtBQUssU0FBVXZFLElBQ1AsR0FBVEEsSUFBY2xJLEdBQVFDLFFBQVFzTSxjQUFjM0UsRUFBU3lFLEVBQUt6RSxFQUFPeUIsU0FBU3JKLEdBQVFDLFFBQVFzTSxjQUNqRixHQUFUckUsSUFBY2xJLEdBQVFDLFFBQVErRixRQUFPQSxHQUFRYyxFQUFVdUYsSUFDM0RuRSxLQXFDSWxJLEdBQVFDLFFBQVErTSxPQUNsQkgsRUFBS3pDLElBQUksYUFBY3lDLEVBQU1QLEdBRS9CTyxFQUFLekMsSUFBSSxRQUFTeUMsRUFBTVAsSUFHMUJwRixLQUFLc0UsS0FBS3pNLEdBcnlCWkgsRUFBRThNLEdBQUd0QixJQUFNeEwsRUFBRThNLEdBQUd1QixJQUFNck8sRUFBRThNLEdBQUd3QixLQUMzQnRPLEVBQUU4TSxHQUFHSCxLQUFPM00sRUFBRThNLEdBQUd5QixLQUFPdk8sRUFBRThNLEdBQUd3QixLQXV5QjNCdE8sRUFBRThNLEdBQUd2RSxNQUFRLFNBQVNsSCxHQUNwQixHQUFJbU4sR0FDQUMsQ0FFSixJQUFJbkcsS0FBS29HLFNBQVUsQ0FDakIsR0FBSUMsR0FBS3JHLEtBQUtvRyxTQUFTRSxNQUFNLElBQzdCLEtBQUssR0FBSTFDLEtBQUt5QyxHQUFJQSxFQUFHekMsR0FBS2xNLEVBQUU2TyxLQUFLRixFQUFHekMsR0FDcEM1RCxNQUFLd0csS0FBSyxTQUFTeEYsR0FDakIsR0FBaUIsR0FBYnFGLEVBQUc3TSxPQUNMLEdBQWEsR0FBVHdILEVBQVksQ0FHaEIsR0FERWtGLEVBQVV4TyxFQUFFc0ksTUFDd0IsbUJBQTNCa0csR0FBUVgsS0FBSyxTQUEyQixNQUFPVyxHQUFRWCxLQUFLLFFBQ3JFVyxHQUFRckwsRUFBSSxHQUFJbEQsR0FBUXVPLEVBQVNuTixPQUNILG1CQUFmbU4sR0FBUyxJQUV4QkMsRUFBU3pPLEVBQUVzSSxNQUNYa0csRUFBUXJMLEVBQUVxSyxRQUFRaUIsUUFHcEIsSUFBSXpPLEVBQUVzSSxNQUFNeUcsR0FBR0osRUFBRyxLQUFnQixHQUFUckYsRUFBWSxDQUdyQyxHQURFa0YsRUFBVXhPLEVBQUVzSSxNQUN3QixtQkFBM0JrRyxHQUFRWCxLQUFLLFNBQTJCLE1BQU9XLEdBQVFYLEtBQUssUUFDckVXLEdBQVFyTCxFQUFJLEdBQUlsRCxHQUFRdU8sRUFBU25OLE9BQ0gsbUJBQWZtTixHQUFTLEdBQXNCeE8sRUFBRXNJLE1BQU15RyxHQUFHSixFQUFHLE1BRTVERixFQUFTek8sRUFBRXNJLE1BQ1hrRyxFQUFRckwsRUFBRXFLLFFBQVFpQixVQUluQm5HLE1BQUt3RyxLQUFLLFNBQVN4RixHQUN4QixHQUFhLEdBQVRBLEVBQVksQ0FHZCxHQURBa0YsRUFBVXhPLEVBQUVzSSxNQUMwQixtQkFBM0JrRyxHQUFRWCxLQUFLLFNBQTJCLE1BQU9XLEdBQVFYLEtBQUssUUFDdkVXLEdBQVFyTCxFQUFJLEdBQUlsRCxHQUFRdU8sRUFBU25OLE9BQ0gsbUJBQWZtTixHQUFTLElBRXhCQyxFQUFTek8sRUFBRXNJLE1BQ1hrRyxFQUFRckwsRUFBRXFLLFFBQVFpQixLQUd0QixPQUF3QixtQkFBZCxLQUNWRCxFQUFRWCxLQUFLLFFBQVNXLEVBQVFyTCxHQUc5Qm5ELEVBQUV3TyxHQUFTakMsUUFBUSxlQUNaaUMsRUFBUXJMLElBR25CbkQsRUFBRThNLEdBQUd2RSxNQUFNd0UsVUFDVHBMLFNBQVUsUUFDVjhILFVBQVcsU0FDWGhELFlBQVksRUFDWlEsUUFBUyxFQUNURCxRQUFTLEVBQ1RnRSxRQUFRLEVBQ1I4QyxXQUFXLEVBQ1haLFNBQVMsRUFDVGQsUUFBUSxFQUNSckcsZUFBZ0IsRUFDaEJELGVBQWdCLEVBQ2hCRSxZQUFhLEVBQ2J1RSxhQUFjLEVBQ2RxQixRQUFRLEVBQ1JyRSxNQUFNLEVBQ053RSxZQUFhLEdBQ2JsSixNQUFNLEVBQ051SSxZQUFhLEdBQ2IvSSxVQUFXLE1BQ1g0RCxlQUFlLEVBQ2Z5RCxhQUFhLEVBQ2JnQyxhQUFhLEVBQ2JwSyxVQUFXLE9BQ1hHLFdBQVksT0FDWitJLFlBQWEsZUFDYkUsYUFBYyxnQkFDZE8sVUFBVyxhQUNYTixVQUFXLGdCQUNYZ0QsWUFBYSxVQUNiUyxPQUFPLEVBQ1B2SCxVQUFVLEVBQ1Y4QyxpQkFBaUIsRUFDakJ2QyxPQUFPLEVBQ1AwRCxXQUFZLGdCQUNacEgsSUFBSSxJQUVMc0wiLCJmaWxlIjoieHpvb20uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogeFpvb20gdjEuMC4xMlxuICogKGMpIDIwMTMgYnkgQXphdCBBaG1lZG92ICYgRWxtYW4gR3VzZXlub3ZcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9wYXlhbG9yZFxuICogaHR0cHM6Ly9kcmliYmJsZS5jb20vZWxtYW52ZWJzXG4gKiBBcGFjaGUgTGljZW5zZSAyLjBcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbndpbmRvdy5yZXF1ZXN0QW5pbUZyYW1lID0gKGZ1bmN0aW9uKCl7XG4gIHJldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICB3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgZnVuY3Rpb24oY2FsbGJhY2spe1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNhbGxiYWNrLCAyMCk7XG4gIH07XG59KSgpO1xuXG5mdW5jdGlvbiBkZXRlY3Rfb2xkX2llKCkge1xuICBpZiAoL01TSUUgKFxcZCtcXC5cXGQrKTsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgIHZhciBpZXZlcnNpb249bmV3IE51bWJlcihSZWdFeHAuJDEpO1xuICAgaWYgKGlldmVyc2lvbj49OSlcbiAgICByZXR1cm4gZmFsc2VcbiAgIGVsc2UgaWYgKGlldmVyc2lvbj49OClcbiAgICByZXR1cm4gdHJ1ZVxuICAgZWxzZSBpZiAoaWV2ZXJzaW9uPj03KVxuICAgIHJldHVybiB0cnVlXG4gICBlbHNlIGlmIChpZXZlcnNpb24+PTYpXG4gICAgcmV0dXJuIHRydWVcbiAgIGVsc2UgaWYgKGlldmVyc2lvbj49NSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9IGVsc2UgcmV0dXJuIGZhbHNlO1xufVxuXG4oZnVuY3Rpb24gKCQpIHtcbiAgLy9Db21wYXRpYmlsaXR5IGJldHdlZW4gb2xkIGFuZCBuZXcgdmVyc2lvbnMgb2YgalF1ZXJ5XG4gICQuZm4ueG9uID0gJC5mbi5vbiB8fCAkLmZuLmJpbmQ7XG4gICQuZm4ueG9mZiA9ICQuZm4ub2ZmIHx8ICQuZm4uYmluZDtcblxuICBmdW5jdGlvbiB4b2JqZWN0KG1PYmosIG9wdHMpIHtcbiAgICAvL1Byb3BlcnRpZXNcbiAgICB0aGlzLnh6b29tID0gdHJ1ZTtcbiAgICB2YXIgY3VycmVudCA9IHRoaXM7XG4gICAgdmFyIHBhcmVudDtcbiAgICB2YXIgeHpvb21JRCA9IHt9O1xuXG4gICAgdmFyIHN3LCBzaCwgbXcsIG1oLCBtb2Zmc2V0LCBzdG9wLCBzbGVmdCwgbXRvcCwgbWxlZnQsIGN0b3AsIGNsZWZ0LCBteCwgbXk7XG4gICAgdmFyIHNvdXJjZSwgdGludCwgcHJldmlldywgbG9hZGluZywgdHJhbnMsIHRyYW5zSW1nLCBzb2JqZWN0cyA9IG5ldyBBcnJheSgpO1xuICAgIHZhciBpbWFnZUdhbGxlcnkgPSBuZXcgQXJyYXkoKSwgaW5kZXggPSAwLCBjaW5kZXggPSAwO1xuICAgIHZhciBpbWcsIGltZ09iaiwgbGVucywgbGVuc0ltZztcbiAgICB2YXIgbHcsIGxoLCBsbCwgbHQsIGxsYywgbHRjLCBvY29meCwgb2NvZnksIGNvZngsIGNvZnksIGMxLCBjMiwgaXdoLCBzY2FsZSA9IDA7XG4gICAgdmFyIGltZ09iandpZHRoLCBpbWdPYmpoZWlnaHQ7XG4gICAgdmFyIGZsYWcsIHUgPSAwLCB2ID0gMCwgc3UgPSAwLCBzdiA9IDAsIGxzdSA9IDAsIGxzdiA9IDAsIGx1ID0gMCwgbHYgPSAwLCBsbHUgPSAwLCBsbHYgPSAwO1xuICAgIHZhciBpZSA9IGRldGVjdF9vbGRfaWUoKSwgYWllID0gL01TSUUgKFxcZCtcXC5cXGQrKTsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksIGlleCwgaWV5O1xuICAgIHZhciBhY3RpdmUsIHRpdGxlID0gJycsIGNhcHRpb24sIGNhcHRpb25fY29udGFpbmVyO1xuXG4gICAgLy9BZGFwdGl2ZSBwcm9wZXJ0aWVzXG4gICAgdmFyIHdzdywgd3NoLCBvc3csIG9zaCwgdHN3LCB0c2gsIG9wb3NpdGlvbiwgcmV2ZXJzZTsvLywgc21vb3RoTm9ybWFsO1xuXG4gICAgdGhpcy5hZGFwdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKG9zdyA9PSAwIHx8IG9zaCA9PSAwKSB7XG4gICAgICAgIG1PYmouY3NzKCd3aWR0aCcsICcnKTtcbiAgICAgICAgbU9iai5jc3MoJ2hlaWdodCcsICcnKTtcbiAgICAgICAgb3N3ID0gbU9iai53aWR0aCgpO1xuICAgICAgICBvc2ggPSBtT2JqLmhlaWdodCgpO1xuICAgICAgfVxuXG4gICAgICB4cmVtb3ZlKCk7XG4gICAgICB3c3cgPSAkKHdpbmRvdykud2lkdGgoKTtcbiAgICAgIHdzaCA9ICQod2luZG93KS5oZWlnaHQoKTtcblxuICAgICAgdHN3ID0gbU9iai53aWR0aCgpO1xuICAgICAgdHNoID0gbU9iai5oZWlnaHQoKTtcblxuICAgICAgdmFyIHVwZGF0ZSA9IGZhbHNlO1xuICAgICAgaWYgKG9zdz53c3cgfHwgb3NoPndzaCkgdXBkYXRlID0gdHJ1ZTtcblxuICAgICAgaWYgKHRzdyA+IG9zdykgdHN3ID0gb3N3O1xuICAgICAgaWYgKHRzaCA+IG9zaCkgdHNoID0gb3NoO1xuICAgICAgaWYgKHVwZGF0ZSkge1xuICAgICAgICBtT2JqLndpZHRoKCcxMDAlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAob3N3ICE9IDApIG1PYmoud2lkdGgob3N3KTtcbiAgICAgIH1cbiAgICAgIGlmIChvcG9zaXRpb24gIT0gJ2Z1bGxzY3JlZW4nKSBpZiAoYWRhcHRpdmVfcG9zaXRpb25fZml0KCkpIGN1cnJlbnQub3B0aW9ucy5wb3NpdGlvbiA9IG9wb3NpdGlvbjsgZWxzZSBjdXJyZW50Lm9wdGlvbnMucG9zaXRpb24gPSBjdXJyZW50Lm9wdGlvbnMubXBvc2l0aW9uO1xuICAgICAgaWYgKCFjdXJyZW50Lm9wdGlvbnMubGVuc1JldmVyc2UpIHJldmVyc2UgPSBjdXJyZW50Lm9wdGlvbnMuYWRhcHRpdmVSZXZlcnNlICYmIGN1cnJlbnQub3B0aW9ucy5wb3NpdGlvbiA9PSBjdXJyZW50Lm9wdGlvbnMubXBvc2l0aW9uO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNwb3MoKSB7XG4gICAgICB2YXIgZG9jID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgdmFyIGxlZnQgPSAod2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvYy5zY3JvbGxMZWZ0KSAtIChkb2MuY2xpZW50TGVmdCB8fCAwKTtcbiAgICAgIHZhciB0b3AgPSAod2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvYy5zY3JvbGxUb3ApICAtIChkb2MuY2xpZW50VG9wIHx8IDApO1xuXG4gICAgICByZXR1cm4ge2xlZnQ6IGxlZnQsIHRvcDogdG9wfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGFwdGl2ZV9wb3NpdGlvbl9maXQoKSB7XG4gICAgICB2YXIgbW9mZnNldCA9IG1PYmoub2Zmc2V0KCk7XG5cbiAgICAgIGlmIChjdXJyZW50Lm9wdGlvbnMuem9vbVdpZHRoID09ICdhdXRvJykgbXcgPSB0c3c7IGVsc2UgbXcgPSBjdXJyZW50Lm9wdGlvbnMuem9vbVdpZHRoOyAvL3Rzdy9vc3cgKiBjdXJyZW50Lm9wdGlvbnMuem9vbVdpZHRoO1xuICAgICAgaWYgKGN1cnJlbnQub3B0aW9ucy56b29tSGVpZ2h0ID09ICdhdXRvJykgbWggPSB0c2g7IGVsc2UgbWggPSBjdXJyZW50Lm9wdGlvbnMuem9vbUhlaWdodDsgLy90c3cvb3NoICogY3VycmVudC5vcHRpb25zLnpvb21IZWlnaHQ7XG5cbiAgICAgIGlmIChjdXJyZW50Lm9wdGlvbnMucG9zaXRpb24uc3Vic3RyKDAsMSkgPT0gJyMnKSB4em9vbUlEID0gJChjdXJyZW50Lm9wdGlvbnMucG9zaXRpb24pOyBlbHNlIHh6b29tSUQubGVuZ3RoID0gMDtcbiAgICAgIGlmICh4em9vbUlELmxlbmd0aCAhPSAwKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgc3dpdGNoKG9wb3NpdGlvbikge1xuICAgICAgICBjYXNlICdsZW5zJzpcbiAgICAgICAgY2FzZSAnaW5zaWRlJzpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgIHN0b3AgPSBtb2Zmc2V0LnRvcDtcbiAgICAgICAgICBzbGVmdCA9IG1vZmZzZXQubGVmdDtcbiAgICAgICAgICBtdG9wID0gc3RvcCAtIG1oOyAvL3RzaDtcbiAgICAgICAgICBtbGVmdCA9IHNsZWZ0O1xuICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgc3RvcCA9IG1vZmZzZXQudG9wO1xuICAgICAgICAgIHNsZWZ0ID0gbW9mZnNldC5sZWZ0O1xuICAgICAgICAgIG10b3AgPSBzdG9wO1xuICAgICAgICAgIG1sZWZ0ID0gc2xlZnQgLSBtdzsgLy90c3c7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgIHN0b3AgPSBtb2Zmc2V0LnRvcDtcbiAgICAgICAgICBzbGVmdCA9IG1vZmZzZXQubGVmdDtcbiAgICAgICAgICBtdG9wID0gc3RvcCArIHRzaDtcbiAgICAgICAgICBtbGVmdCA9IHNsZWZ0O1xuICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHN0b3AgPSBtb2Zmc2V0LnRvcDtcbiAgICAgICAgICBzbGVmdCA9IG1vZmZzZXQubGVmdDtcbiAgICAgICAgICBtdG9wID0gc3RvcDtcbiAgICAgICAgICBtbGVmdCA9IHNsZWZ0ICsgdHN3O1xuICAgICAgfVxuICAgICAgaWYgKG1sZWZ0K213PndzdyB8fCBtbGVmdDwwKSByZXR1cm4gZmFsc2U7IC8vaWYgKG10b3ArbWg+d3NoIHx8IG10b3A8MCkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy54c2Nyb2xsID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIG14ID0gZXZlbnQucGFnZVggfHwgZXZlbnQub3JpZ2luYWxFdmVudC5wYWdlWDtcbiAgICAgIG15ID0gZXZlbnQucGFnZVkgfHwgZXZlbnQub3JpZ2luYWxFdmVudC5wYWdlWTtcblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgaWYgKGV2ZW50LnhzY2FsZSkge1xuICAgICAgICBzY2FsZSA9IGV2ZW50LnhzY2FsZTtcbiAgICAgICAgeHNjYWxlKG14LCBteSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZGVsdGEgPSAtZXZlbnQub3JpZ2luYWxFdmVudC5kZXRhaWwgfHwgZXZlbnQub3JpZ2luYWxFdmVudC53aGVlbERlbHRhIHx8IGV2ZW50LnhkZWx0YTtcbiAgICAgICAgdmFyIHggPSBteDtcbiAgICAgICAgdmFyIHkgPSBteTtcbiAgICAgICAgaWYgKGllKSB7XG4gICAgICAgICAgeCA9IGlleDtcbiAgICAgICAgICB5ID0gaWV5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlbHRhID4gMCkgZGVsdGEgPSAtMC4wNTsgZWxzZSBkZWx0YSA9IDAuMDU7XG5cbiAgICAgICAgc2NhbGUgKz0gZGVsdGE7XG5cbiAgICAgICAgeHNjYWxlKHgsIHkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxlbnNTaGFwZSgpIHtcbiAgICAgIGlmIChjdXJyZW50Lm9wdGlvbnMubGVuc1NoYXBlID09ICdjaXJjbGUnICYmIGN1cnJlbnQub3B0aW9ucy5wb3NpdGlvbiA9PSAnbGVucycpIHtcbiAgICAgICAgLy90aGlzIGZ1bmN0aW9uIG11c3QgYmUgY2FsbGVkIGJlZm9yZSBzZXRfbGVucygpXG4gICAgICAgIGx3ID0gbGggPSBNYXRoLm1heChsdywgbGgpO1xuICAgICAgICB2YXIgcmFkaXVzID0gKGx3ICsgTWF0aC5tYXgobHRjLGxsYykgKiAyKSAvIDI7XG4gICAgICAgIGxlbnMuY3NzKHsnLW1vei1ib3JkZXItcmFkaXVzJzogcmFkaXVzLCAnLXdlYmtpdC1ib3JkZXItcmFkaXVzJzogcmFkaXVzLCAnYm9yZGVyLXJhZGl1cyc6IHJhZGl1c30pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxlbnNPdXRwdXQoeCwgeSwgc3gsIHN5KSB7XG4gICAgICBpZiAoY3VycmVudC5vcHRpb25zLnBvc2l0aW9uID09ICdsZW5zJykge1xuICAgICAgICBpbWdPYmouY3NzKHt0b3A6IC0oeS1zdG9wKSAqIGNvZnkgKyAobGggLyAyKSwgbGVmdDogLSh4LXNsZWZ0KSAqIGNvZnggKyAobHcgLyAyKX0pO1xuICAgICAgICBpZiAoY3VycmVudC5vcHRpb25zLmJnKSB7XG4gICAgICAgICAgbGVucy5jc3MoeydiYWNrZ3JvdW5kLWltYWdlJzogJ3VybCgnK2ltZ09iai5hdHRyKCdzcmMnKSsnKScsICdiYWNrZ3JvdW5kLXJlcGVhdCc6ICduby1yZXBlYXQnLCAnYmFja2dyb3VuZC1wb3NpdGlvbic6ICgtKHgtc2xlZnQpICogY29meCArIChsdyAvIDIpKSsncHggJysoLSh5LXN0b3ApICogY29meSArIChsaCAvIDIpKSsncHgnfSk7XG4gICAgICAgICAgaWYgKHN4ICYmIHN5KSBsZW5zLmNzcyh7J2JhY2tncm91bmQtc2l6ZSc6IHN4KydweCAnK3N5KydweCd9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1nT2JqLmNzcyh7dG9wOiAtbHQgKiBjb2Z5LCBsZWZ0OiAtbGwgKiBjb2Z4fSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24geHNjYWxlKHgsIHkpIHtcbiAgICAgIGlmIChzY2FsZSA8IC0xKSBzY2FsZSA9IC0xO1xuICAgICAgaWYgKHNjYWxlID4gMSkgc2NhbGUgPSAxO1xuXG4gICAgICBpZiAoYzEgPCBjMikge1xuICAgICAgICB2YXIgY2MgPSBjMSAtIChjMSAtIDEpICogc2NhbGU7XG4gICAgICAgIHZhciBpdyA9IG13ICogY2M7XG4gICAgICAgIHZhciBpaCA9IGl3IC8gaXdoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGNjID0gYzIgLSAoYzIgLSAxKSAqIHNjYWxlO1xuICAgICAgICB2YXIgaWggPSBtaCAqIGNjO1xuICAgICAgICB2YXIgaXcgPSBpaCAqIGl3aDtcbiAgICAgIH1cbiAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgIC8vSWYgc21vb3RoTW92ZVxuICAgICAgICB1ID0geDtcbiAgICAgICAgdiA9IHk7XG4gICAgICAgIHN1ID0gaXc7XG4gICAgICAgIHN2ID0gaWg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWZsYWcpIHtcbiAgICAgICAgICBsc3UgPSBzdSA9IGl3O1xuICAgICAgICAgIGxzdiA9IHN2ID0gaWg7XG4gICAgICAgIH1cbiAgICAgICAgY29meCA9IGl3IC8gc3c7XG4gICAgICAgIGNvZnkgPSBpaCAvIHNoO1xuICAgICAgICBsdyA9IG13IC8gY29meDtcbiAgICAgICAgbGggPSBtaCAvIGNvZnk7XG4gICAgICAgIGxlbnNTaGFwZSgpO1xuICAgICAgICBzZXRfbGVucyh4LCB5KTtcblxuICAgICAgICBpbWdPYmoud2lkdGgoaXcpO1xuICAgICAgICBpbWdPYmouaGVpZ2h0KGloKTtcbiAgICAgICAgbGVucy53aWR0aChsdyk7XG4gICAgICAgIGxlbnMuaGVpZ2h0KGxoKTtcblxuICAgICAgICBsZW5zLmNzcyh7dG9wOiBsdCAtIGx0YywgbGVmdDogbGwgLSBsbGN9KTtcbiAgICAgICAgbGVuc0ltZy5jc3Moe3RvcDogLWx0LCBsZWZ0OiAtbGx9KTtcbiAgICAgICAgbGVuc091dHB1dCh4LCB5LCBpdywgaWgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvb3Bab29tKCkge1xuICAgICAgdmFyIHggPSBsdTtcbiAgICAgIHZhciB5ID0gbHY7XG4gICAgICB2YXIgeDIgPSBsbHU7XG4gICAgICB2YXIgeTIgPSBsbHY7XG4gICAgICB2YXIgc3ggPSBsc3U7XG4gICAgICB2YXIgc3kgPSBsc3Y7XG4gICAgICB4ICs9ICh1IC0geCkgLyBjdXJyZW50Lm9wdGlvbnMuc21vb3RoTGVuc01vdmU7XG4gICAgICB5ICs9ICh2IC0geSkgLyBjdXJyZW50Lm9wdGlvbnMuc21vb3RoTGVuc01vdmU7XG5cbiAgICAgIHgyICs9ICh1IC0geDIpIC8gY3VycmVudC5vcHRpb25zLnNtb290aFpvb21Nb3ZlO1xuICAgICAgeTIgKz0gKHYgLSB5MikgLyBjdXJyZW50Lm9wdGlvbnMuc21vb3RoWm9vbU1vdmU7XG5cbiAgICAgIHN4ICs9IChzdSAtIHN4KSAvIGN1cnJlbnQub3B0aW9ucy5zbW9vdGhTY2FsZTtcbiAgICAgIHN5ICs9IChzdiAtIHN5KSAvIGN1cnJlbnQub3B0aW9ucy5zbW9vdGhTY2FsZTtcblxuICAgICAgY29meCA9IHN4IC8gc3c7XG4gICAgICBjb2Z5ID0gc3kgLyBzaDtcblxuICAgICAgbHcgPSBtdyAvIGNvZng7XG4gICAgICBsaCA9IG1oIC8gY29meTtcbiAgICAgIGxlbnNTaGFwZSgpO1xuICAgICAgc2V0X2xlbnMoeCwgeSk7XG5cbiAgICAgIGltZ09iai53aWR0aChzeCk7XG4gICAgICBpbWdPYmouaGVpZ2h0KHN5KTtcblxuICAgICAgbGVucy53aWR0aChsdyk7XG4gICAgICBsZW5zLmhlaWdodChsaCk7XG5cbiAgICAgIGxlbnMuY3NzKHt0b3A6IGx0IC0gbHRjLCBsZWZ0OiBsbCAtIGxsY30pO1xuICAgICAgbGVuc0ltZy5jc3Moe3RvcDogLWx0LCBsZWZ0OiAtbGx9KTtcblxuICAgICAgc2V0X2xlbnMoeDIsIHkyKTtcbiAgICAgIGxlbnNPdXRwdXQoeCwgeSwgc3gsIHN5KTtcblxuICAgICAgbHUgPSB4O1xuICAgICAgbHYgPSB5O1xuICAgICAgbGx1ID0geDI7XG4gICAgICBsbHYgPSB5MjtcbiAgICAgIGxzdSA9IHN4O1xuICAgICAgbHN2ID0gc3k7XG5cbiAgICAgIGlmIChmbGFnKSByZXF1ZXN0QW5pbUZyYW1lKGxvb3Bab29tKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRfbGVucyh4LCB5KSB7XG4gICAgICB4IC09IHNsZWZ0O1xuICAgICAgeSAtPSBzdG9wO1xuICAgICAgbGwgPSB4IC0gKGx3IC8gMik7XG4gICAgICBsdCA9IHkgLSAobGggLyAyKTtcblxuICAgICAgaWYgKGN1cnJlbnQub3B0aW9ucy5wb3NpdGlvbiAhPSAnbGVucycgJiYgY3VycmVudC5vcHRpb25zLmxlbnNDb2xsaXNpb24pIHtcbiAgICAgICAgaWYgKGxsIDwgMCkgbGwgPSAwO1xuICAgICAgICBpZiAoc3cgPj0gbHcgJiYgbGwgPiBzdyAtIGx3KSBsbCA9IHN3IC0gbHc7XG4gICAgICAgIGlmIChzdyA8IGx3KSBsbCA9IHN3IC8gMiAtIGx3IC8gMjtcbiAgICAgICAgaWYgKGx0IDwgMCkgbHQgPSAwO1xuICAgICAgICBpZiAoc2ggPj0gbGggJiYgbHQgPiBzaCAtIGxoKSBsdCA9IHNoIC0gbGg7XG4gICAgICAgIGlmIChzaCA8IGxoKSBsdCA9IHNoIC8gMiAtIGxoIC8gMjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB4cmVtb3ZlKCkge1xuICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgIT0gXCJ1bmRlZmluZWRcIikgc291cmNlLnJlbW92ZSgpO1xuICAgICAgaWYgKHR5cGVvZiBwcmV2aWV3ICE9IFwidW5kZWZpbmVkXCIpIHByZXZpZXcucmVtb3ZlKCk7XG4gICAgICBpZiAodHlwZW9mIGNhcHRpb25fY29udGFpbmVyICE9IFwidW5kZWZpbmVkXCIpIGNhcHRpb25fY29udGFpbmVyLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByZXBhcmVfem9vbSh4LCB5KSB7XG4gICAgICBpZiAoY3VycmVudC5vcHRpb25zLnBvc2l0aW9uID09ICdmdWxsc2NyZWVuJykge1xuICAgICAgICBzdyA9ICQod2luZG93KS53aWR0aCgpO1xuICAgICAgICBzaCA9ICQod2luZG93KS5oZWlnaHQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3ID0gbU9iai53aWR0aCgpO1xuICAgICAgICBzaCA9IG1PYmouaGVpZ2h0KCk7XG4gICAgICB9XG5cbiAgICAgIGxvYWRpbmcuY3NzKHt0b3A6IHNoIC8gMiAtIGxvYWRpbmcuaGVpZ2h0KCkgLyAyLCBsZWZ0OiBzdyAvIDIgLSBsb2FkaW5nLndpZHRoKCkgLyAyfSk7XG5cbiAgICAgIGlmIChjdXJyZW50Lm9wdGlvbnMucm9vdE91dHB1dCB8fCBjdXJyZW50Lm9wdGlvbnMucG9zaXRpb24gPT0gJ2Z1bGxzY3JlZW4nKSB7XG4gICAgICAgIG1vZmZzZXQgPSBtT2JqLm9mZnNldCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW9mZnNldCA9IG1PYmoucG9zaXRpb24oKTtcbiAgICAgIH1cblxuICAgICAgLy9Sb3VuZFxuICAgICAgbW9mZnNldC50b3AgPSBNYXRoLnJvdW5kKG1vZmZzZXQudG9wKTtcbiAgICAgIG1vZmZzZXQubGVmdCA9IE1hdGgucm91bmQobW9mZnNldC5sZWZ0KTtcblxuICAgICAgc3dpdGNoKGN1cnJlbnQub3B0aW9ucy5wb3NpdGlvbikge1xuICAgICAgICBjYXNlICdmdWxsc2NyZWVuJzpcbiAgICAgICAgICBzdG9wID0gc3BvcygpLnRvcDtcbiAgICAgICAgICBzbGVmdCA9IHNwb3MoKS5sZWZ0O1xuICAgICAgICAgIG10b3AgPSAwO1xuICAgICAgICAgIG1sZWZ0ID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2luc2lkZSc6XG4gICAgICAgICAgc3RvcCA9IG1vZmZzZXQudG9wO1xuICAgICAgICAgIHNsZWZ0ID0gbW9mZnNldC5sZWZ0O1xuICAgICAgICAgIG10b3AgPSAwO1xuICAgICAgICAgIG1sZWZ0ID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgc3RvcCA9IG1vZmZzZXQudG9wO1xuICAgICAgICAgIHNsZWZ0ID0gbW9mZnNldC5sZWZ0O1xuICAgICAgICAgIG10b3AgPSBzdG9wIC0gbWg7XG4gICAgICAgICAgbWxlZnQgPSBzbGVmdDtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgIHN0b3AgPSBtb2Zmc2V0LnRvcDtcbiAgICAgICAgICBzbGVmdCA9IG1vZmZzZXQubGVmdDtcbiAgICAgICAgICBtdG9wID0gc3RvcDtcbiAgICAgICAgICBtbGVmdCA9IHNsZWZ0IC0gbXc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgIHN0b3AgPSBtb2Zmc2V0LnRvcDtcbiAgICAgICAgICBzbGVmdCA9IG1vZmZzZXQubGVmdDtcbiAgICAgICAgICBtdG9wID0gc3RvcCArIHNoO1xuICAgICAgICAgIG1sZWZ0ID0gc2xlZnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgc3RvcCA9IG1vZmZzZXQudG9wO1xuICAgICAgICAgIHNsZWZ0ID0gbW9mZnNldC5sZWZ0O1xuICAgICAgICAgIG10b3AgPSBzdG9wO1xuICAgICAgICAgIG1sZWZ0ID0gc2xlZnQgKyBzdztcbiAgICAgIH1cblxuICAgICAgLy9Db3JyZWN0IHNvdXJjZSBwb3NpdGlvblxuICAgICAgc3RvcCAtPSBzb3VyY2Uub3V0ZXJIZWlnaHQoKSAvIDI7XG4gICAgICBzbGVmdCAtPSBzb3VyY2Uub3V0ZXJXaWR0aCgpIC8gMjtcblxuICAgICAgaWYgKGN1cnJlbnQub3B0aW9ucy5wb3NpdGlvbi5zdWJzdHIoMCwxKSA9PSAnIycpIHh6b29tSUQgPSAkKGN1cnJlbnQub3B0aW9ucy5wb3NpdGlvbik7IGVsc2UgeHpvb21JRC5sZW5ndGggPSAwO1xuICAgICAgaWYgKHh6b29tSUQubGVuZ3RoID09IDAgJiYgY3VycmVudC5vcHRpb25zLnBvc2l0aW9uICE9ICdpbnNpZGUnICYmIGN1cnJlbnQub3B0aW9ucy5wb3NpdGlvbiE9ICdmdWxsc2NyZWVuJykge1xuXG4gICAgICAgIGlmICghY3VycmVudC5vcHRpb25zLmFkYXB0aXZlIHx8ICFvc3cgfHwgIW9zaCkge29zdyA9IHN3OyBvc2ggPSBzaDt9XG4gICAgICAgIGlmIChjdXJyZW50Lm9wdGlvbnMuem9vbVdpZHRoID09ICdhdXRvJykgbXcgPSBzdzsgZWxzZSBtdyA9IGN1cnJlbnQub3B0aW9ucy56b29tV2lkdGg7IC8vc3cvb3N3ICogY3VycmVudC5vcHRpb25zLnpvb21XaWR0aDtcbiAgICAgICAgaWYgKGN1cnJlbnQub3B0aW9ucy56b29tSGVpZ2h0ID09ICdhdXRvJykgbWggPSBzaDsgZWxzZSBtaCA9IGN1cnJlbnQub3B0aW9ucy56b29tSGVpZ2h0OyAvL3N3L29zaCAqIGN1cnJlbnQub3B0aW9ucy56b29tSGVpZ2h0O1xuXG4gICAgICAgIC8vQWRkIG9mZnNldFxuICAgICAgICBtdG9wICs9IGN1cnJlbnQub3B0aW9ucy5Zb2Zmc2V0O1xuICAgICAgICBtbGVmdCArPSBjdXJyZW50Lm9wdGlvbnMuWG9mZnNldDtcblxuICAgICAgICBwcmV2aWV3LmNzcyh7d2lkdGg6IG13ICsgJ3B4JywgaGVpZ2h0OiBtaCArICdweCcsIHRvcDogbXRvcCwgbGVmdDogbWxlZnR9KTtcbiAgICAgICAgaWYgKGN1cnJlbnQub3B0aW9ucy5wb3NpdGlvbiAhPSAnbGVucycpIHBhcmVudC5hcHBlbmQocHJldmlldyk7XG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnQub3B0aW9ucy5wb3NpdGlvbiA9PSAnaW5zaWRlJyB8fCBjdXJyZW50Lm9wdGlvbnMucG9zaXRpb24gPT0gJ2Z1bGxzY3JlZW4nKSB7XG4gICAgICAgIG13ID0gc3c7XG4gICAgICAgIG1oID0gc2g7XG5cbiAgICAgICAgcHJldmlldy5jc3Moe3dpZHRoOiBtdyArICdweCcsIGhlaWdodDogbWggKyAncHgnfSk7XG4gICAgICAgIHNvdXJjZS5hcHBlbmQocHJldmlldyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtdyA9IHh6b29tSUQud2lkdGgoKTtcbiAgICAgICAgbWggPSB4em9vbUlELmhlaWdodCgpO1xuXG4gICAgICAgIGlmIChjdXJyZW50Lm9wdGlvbnMucm9vdE91dHB1dCkge1xuICAgICAgICAgIG10b3AgPSB4em9vbUlELm9mZnNldCgpLnRvcDtcbiAgICAgICAgICBtbGVmdCA9IHh6b29tSUQub2Zmc2V0KCkubGVmdDtcblxuICAgICAgICAgIHBhcmVudC5hcHBlbmQocHJldmlldyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbXRvcCA9IHh6b29tSUQucG9zaXRpb24oKS50b3A7XG4gICAgICAgICAgbWxlZnQgPSB4em9vbUlELnBvc2l0aW9uKCkubGVmdDtcblxuICAgICAgICAgIHh6b29tSUQucGFyZW50KCkuYXBwZW5kKHByZXZpZXcpO1xuICAgICAgICB9XG5cbiAgICAgICAgbXRvcCArPSAoeHpvb21JRC5vdXRlckhlaWdodCgpIC0gbWggLSBwcmV2aWV3Lm91dGVySGVpZ2h0KCkpIC8gMjtcbiAgICAgICAgbWxlZnQgKz0gKHh6b29tSUQub3V0ZXJXaWR0aCgpIC0gbXcgLSBwcmV2aWV3Lm91dGVyV2lkdGgoKSkgLyAyO1xuICAgICAgICBwcmV2aWV3LmNzcyh7d2lkdGg6IG13ICsgJ3B4JywgaGVpZ2h0OiBtaCArICdweCcsIHRvcDogbXRvcCwgbGVmdDogbWxlZnR9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnQub3B0aW9ucy50aXRsZSAmJiB0aXRsZSAhPSAnJykge1xuICAgICAgICBpZiAoY3VycmVudC5vcHRpb25zLnBvc2l0aW9uID09ICdpbnNpZGUnIHx8IGN1cnJlbnQub3B0aW9ucy5wb3NpdGlvbiA9PSAnbGVucycgfHwgY3VycmVudC5vcHRpb25zLnBvc2l0aW9uID09ICdmdWxsc2NyZWVuJykge1xuICAgICAgICAgIGN0b3AgPSBtdG9wO1xuICAgICAgICAgIGNsZWZ0ID0gbWxlZnQ7XG4gICAgICAgICAgc291cmNlLmFwcGVuZChjYXB0aW9uX2NvbnRhaW5lcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3RvcCA9IG10b3AgKyAocHJldmlldy5vdXRlckhlaWdodCgpLW1oKS8yO1xuICAgICAgICAgIGNsZWZ0ID0gbWxlZnQgKyAocHJldmlldy5vdXRlcldpZHRoKCktbXcpLzI7XG4gICAgICAgICAgcGFyZW50LmFwcGVuZChjYXB0aW9uX2NvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgY2FwdGlvbl9jb250YWluZXIuY3NzKHt3aWR0aDogbXcgKyAncHgnLCBoZWlnaHQ6IG1oICsgJ3B4JywgdG9wOiBjdG9wLCBsZWZ0OiBjbGVmdH0pO1xuICAgICAgfVxuXG4gICAgICBzb3VyY2UuY3NzKHt3aWR0aDogc3cgKyAncHgnLCBoZWlnaHQ6IHNoICsgJ3B4JywgdG9wOiBzdG9wLCBsZWZ0OiBzbGVmdH0pO1xuICAgICAgdGludC5jc3Moe3dpZHRoOiBzdyArICdweCcsIGhlaWdodDogc2ggKyAncHgnfSk7XG4gICAgICBpZiAoY3VycmVudC5vcHRpb25zLnRpbnQgJiYgKGN1cnJlbnQub3B0aW9ucy5wb3NpdGlvbiAhPSAnaW5zaWRlJyAmJiBjdXJyZW50Lm9wdGlvbnMucG9zaXRpb24gIT0gJ2Z1bGxzY3JlZW4nKSlcbiAgICAgICAgdGludC5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBjdXJyZW50Lm9wdGlvbnMudGludClcbiAgICAgIGVsc2UgaWYgKGllKSB7XG4gICAgICAgIHRpbnQuY3NzKHsnYmFja2dyb3VuZC1pbWFnZSc6ICd1cmwoJyttT2JqLmF0dHIoJ3NyYycpKycpJywgJ2JhY2tncm91bmQtY29sb3InOiAnI2ZmZid9KTtcbiAgICAgIH1cblxuICAgICAgLy9JbWFnZSBvYmplY3RcbiAgICAgIGltZyA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICB2YXIgdGltZXN0YW1wID0gJyc7XG4gICAgICBpZiAoYWllKSB0aW1lc3RhbXAgPSAnP3I9JysobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgaW1nLnNyYyA9IG1PYmouYXR0cigneG9yaWdpbmFsJykrdGltZXN0YW1wO1xuXG4gICAgICBpbWdPYmogPSAkKGltZyk7XG4gICAgICBpbWdPYmouY3NzKCdwb3NpdGlvbicsICdhYnNvbHV0ZScpO1xuICAgICAgLy9kZWJ1Z1xuICAgICAgLy9pbWdPYmouY3NzKCdvcGFjaXR5JywgJzAuNScpO1xuXG4gICAgICBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltZy5zcmMgPSBtT2JqLmF0dHIoJ3NyYycpO1xuXG4gICAgICBsZW5zSW1nID0gJChpbWcpO1xuICAgICAgbGVuc0ltZy5jc3MoJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJyk7XG4gICAgICBsZW5zSW1nLndpZHRoKHN3KTtcblxuICAgICAgLy9BcHBlbmQgaW1hZ2VcbiAgICAgIHN3aXRjaCAoY3VycmVudC5vcHRpb25zLnBvc2l0aW9uKSB7XG4gICAgICAgIGNhc2UgJ2Z1bGxzY3JlZW4nOlxuICAgICAgICBjYXNlICdpbnNpZGUnOlxuICAgICAgICAgIHByZXZpZXcuYXBwZW5kKGltZ09iaik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdsZW5zJzpcbiAgICAgICAgICBsZW5zLmFwcGVuZChpbWdPYmopO1xuICAgICAgICAgIGlmIChjdXJyZW50Lm9wdGlvbnMuYmcpIGltZ09iai5jc3Moe2Rpc3BsYXk6ICdub25lJ30pO1xuICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBwcmV2aWV3LmFwcGVuZChpbWdPYmopO1xuICAgICAgICAgIGxlbnMuYXBwZW5kKGxlbnNJbWcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMub3Blbnpvb20gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgbXggPSBldmVudC5wYWdlWDsgbXkgPSBldmVudC5wYWdlWTtcblxuICAgICAgICBpZiAoY3VycmVudC5vcHRpb25zLmFkYXB0aXZlKSBjdXJyZW50LmFkYXB0aXZlKCk7XG4gICAgICAgIHNjYWxlID0gY3VycmVudC5vcHRpb25zLmRlZmF1bHRTY2FsZTsgZmxhZyA9IGZhbHNlO1xuXG4gICAgICAgIC8vU291cmNlIGNvbnRhaW5lclxuICAgICAgICBzb3VyY2UgPSAkKCc8ZGl2PjwvZGl2PicpO1xuICAgICAgICBpZiAoY3VycmVudC5vcHRpb25zLnNvdXJjZUNsYXNzICE9ICcnKSBzb3VyY2UuYWRkQ2xhc3MoY3VycmVudC5vcHRpb25zLnNvdXJjZUNsYXNzKTtcbiAgICAgICAgc291cmNlLmNzcygncG9zaXRpb24nLCAnYWJzb2x1dGUnKTtcblxuICAgICAgICAvL0xvYWRpbmcgY29udGFpbmVyXG4gICAgICAgIGxvYWRpbmcgPSAkKCc8ZGl2PjwvZGl2PicpO1xuICAgICAgICBpZiAoY3VycmVudC5vcHRpb25zLmxvYWRpbmdDbGFzcyAhPSAnJykgbG9hZGluZy5hZGRDbGFzcyhjdXJyZW50Lm9wdGlvbnMubG9hZGluZ0NsYXNzKTtcbiAgICAgICAgbG9hZGluZy5jc3MoJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJyk7XG5cbiAgICAgICAgdGludCA9ICQoJzxkaXYgc3R5bGU9XCJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDtcIj48L2Rpdj4nKTtcblxuICAgICAgICBzb3VyY2UuYXBwZW5kKGxvYWRpbmcpO1xuXG4gICAgICAgIC8vUHJldmlldyBjb250YWluZXJcbiAgICAgICAgcHJldmlldyA9ICQoJzxkaXY+PC9kaXY+Jyk7XG4gICAgICAgIGlmIChjdXJyZW50Lm9wdGlvbnMuem9vbUNsYXNzICE9ICcnICYmIGN1cnJlbnQub3B0aW9ucy5wb3NpdGlvbiAhPSAnZnVsbHNjcmVlbicpIHByZXZpZXcuYWRkQ2xhc3MoY3VycmVudC5vcHRpb25zLnpvb21DbGFzcyk7XG4gICAgICAgIHByZXZpZXcuY3NzKHtwb3NpdGlvbjogJ2Fic29sdXRlJywgb3ZlcmZsb3c6ICdoaWRkZW4nLCBvcGFjaXR5OiAxfSk7XG5cbiAgICAgICAgLy9DYXB0aW9uXG4gICAgICAgIGlmIChjdXJyZW50Lm9wdGlvbnMudGl0bGUgJiYgdGl0bGUgIT0gJycpIHtcbiAgICAgICAgICBjYXB0aW9uX2NvbnRhaW5lciA9ICQoJzxkaXY+PC9kaXY+Jyk7XG4gICAgICAgICAgY2FwdGlvbiA9ICQoJzxkaXY+PC9kaXY+Jyk7XG4gICAgICAgICAgY2FwdGlvbl9jb250YWluZXIuY3NzKHtwb3NpdGlvbjogJ2Fic29sdXRlJywgb3BhY2l0eTogMX0pO1xuICAgICAgICAgIGlmIChjdXJyZW50Lm9wdGlvbnMudGl0bGVDbGFzcykgY2FwdGlvbi5hZGRDbGFzcyhjdXJyZW50Lm9wdGlvbnMudGl0bGVDbGFzcyk7XG4gICAgICAgICAgY2FwdGlvbi5odG1sKCc8c3Bhbj4nK3RpdGxlKyc8L3NwYW4+Jyk7XG4gICAgICAgICAgY2FwdGlvbl9jb250YWluZXIuYXBwZW5kKGNhcHRpb24pO1xuICAgICAgICAgIGlmIChjdXJyZW50Lm9wdGlvbnMuZmFkZUluKSBjYXB0aW9uX2NvbnRhaW5lci5jc3Moe29wYWNpdHk6MH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9MZW5zIG9iamVjdFxuICAgICAgICBsZW5zID0gJCgnPGRpdj48L2Rpdj4nKTtcbiAgICAgICAgaWYgKGN1cnJlbnQub3B0aW9ucy5sZW5zQ2xhc3MgIT0gJycpIGxlbnMuYWRkQ2xhc3MoY3VycmVudC5vcHRpb25zLmxlbnNDbGFzcyk7XG4gICAgICAgIGxlbnMuY3NzKHtwb3NpdGlvbjogJ2Fic29sdXRlJywgb3ZlcmZsb3c6ICdoaWRkZW4nfSk7XG5cbiAgICAgICAgLy9MZW5zIHRpbnRcbiAgICAgICAgaWYgKGN1cnJlbnQub3B0aW9ucy5sZW5zKSB7XG4gICAgICAgICAgbGVuc3RpbnQgPSAkKCc8ZGl2PjwvZGl2PicpO1xuICAgICAgICAgIGxlbnN0aW50LmNzcyh7cG9zaXRpb246ICdhYnNvbHV0ZScsIGJhY2tncm91bmQ6IGN1cnJlbnQub3B0aW9ucy5sZW5zLCBvcGFjaXR5OiBjdXJyZW50Lm9wdGlvbnMubGVuc09wYWNpdHksIHdpZHRoOiAnMTAwJScsIGhlaWdodDogJzEwMCUnLCB0b3A6IDAsIGxlZnQ6IDAsICd6LWluZGV4JzogOTk5OX0pO1xuICAgICAgICAgIGxlbnMuYXBwZW5kKGxlbnN0aW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByZXBhcmVfem9vbShteCwgbXkpO1xuXG4gICAgICAgIGlmIChjdXJyZW50Lm9wdGlvbnMucG9zaXRpb24gIT0gJ2luc2lkZScgJiYgY3VycmVudC5vcHRpb25zLnBvc2l0aW9uICE9ICdmdWxsc2NyZWVuJykge1xuICAgICAgICAgIGlmIChjdXJyZW50Lm9wdGlvbnMudGludCB8fCBpZSkgc291cmNlLmFwcGVuZCh0aW50KTtcblxuICAgICAgICAgIGlmIChjdXJyZW50Lm9wdGlvbnMuZmFkZUluKSB7XG4gICAgICAgICAgICB0aW50LmNzcyh7b3BhY2l0eTowfSk7XG4gICAgICAgICAgICBsZW5zLmNzcyh7b3BhY2l0eTowfSk7XG4gICAgICAgICAgICBwcmV2aWV3LmNzcyh7b3BhY2l0eTowfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcmVudC5hcHBlbmQoc291cmNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoY3VycmVudC5vcHRpb25zLmZhZGVJbikgcHJldmlldy5jc3Moe29wYWNpdHk6MH0pO1xuICAgICAgICAgIHBhcmVudC5hcHBlbmQoc291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vQWRkIGV2ZW50IG9uIG1vdXNlIG1vdmVcbiAgICAgICAgY3VycmVudC5ldmVudG1vdmUoc291cmNlKTtcblxuICAgICAgICAvL09uIG1vdXNlIGxlYXZlIGRlbGV0ZSBjb250YWluZXJzXG4gICAgICAgIGN1cnJlbnQuZXZlbnRsZWF2ZShzb3VyY2UpO1xuXG4gICAgICAgIC8vQ29ycmVjdCBwcmV2aWV3XG4gICAgICAgIHN3aXRjaChjdXJyZW50Lm9wdGlvbnMucG9zaXRpb24pIHtcbiAgICAgICAgICBjYXNlICdpbnNpZGUnOlxuICAgICAgICAgICAgbXRvcCAtPSAocHJldmlldy5vdXRlckhlaWdodCgpIC0gcHJldmlldy5oZWlnaHQoKSkgLyAyO1xuICAgICAgICAgICAgbWxlZnQgLT0gKHByZXZpZXcub3V0ZXJXaWR0aCgpIC0gcHJldmlldy53aWR0aCgpKSAvIDI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgIG10b3AgLT0gcHJldmlldy5vdXRlckhlaWdodCgpIC0gcHJldmlldy5oZWlnaHQoKTtcbiAgICAgICAgICAgIG1sZWZ0IC09IChwcmV2aWV3Lm91dGVyV2lkdGgoKSAtIHByZXZpZXcud2lkdGgoKSkgLyAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgbXRvcCAtPSAocHJldmlldy5vdXRlckhlaWdodCgpICAtIHByZXZpZXcuaGVpZ2h0KCkpIC8gMjtcbiAgICAgICAgICAgIG1sZWZ0IC09IHByZXZpZXcub3V0ZXJXaWR0aCgpIC0gcHJldmlldy53aWR0aCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICBtbGVmdCAtPSAocHJldmlldy5vdXRlcldpZHRoKCkgLSBwcmV2aWV3LndpZHRoKCkpIC8gMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICBtdG9wIC09IChwcmV2aWV3Lm91dGVySGVpZ2h0KCkgLSBwcmV2aWV3LmhlaWdodCgpKSAvIDI7XG4gICAgICAgIH1cblxuICAgICAgICBwcmV2aWV3LmNzcyh7dG9wOiBtdG9wLCBsZWZ0OiBtbGVmdH0pO1xuXG4gICAgICAgIC8vV2UgbXVzdCBiZSBzdXJlIHRoYXQgaW1hZ2UgaGFzIGJlZW4gbG9hZGVkXG4gICAgICAgIGltZ09iai54b24oJ2xvYWQnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgbG9hZGluZy5yZW1vdmUoKTtcblxuICAgICAgICAgIGltZ09iandpZHRoID0gaW1nT2JqLndpZHRoKCk7XG4gICAgICAgICAgaW1nT2JqaGVpZ2h0ID0gaW1nT2JqLmhlaWdodCgpO1xuXG4gICAgICAgICAgaWYgKCFjdXJyZW50Lm9wdGlvbnMub3Blbk9uU21hbGwgJiYgKGltZ09iandpZHRoIDwgbXcgfHwgaW1nT2JqaGVpZ2h0IDwgbWgpKSB7XG4gICAgICAgICAgICBjdXJyZW50LmNsb3Nlem9vbSgpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vU2Nyb2xsIGZ1bmN0aW9uYWxpdHlcbiAgICAgICAgICBpZiAoY3VycmVudC5vcHRpb25zLnNjcm9sbCkgY3VycmVudC5ldmVudHNjcm9sbChzb3VyY2UpO1xuXG4gICAgICAgICAgaWYgKGN1cnJlbnQub3B0aW9ucy5wb3NpdGlvbiAhPSAnaW5zaWRlJyAmJiBjdXJyZW50Lm9wdGlvbnMucG9zaXRpb24gIT0gJ2Z1bGxzY3JlZW4nKSB7XG4gICAgICAgICAgICAvL0FwcGVuZCBsZW5zIHRvIHNvdXJjZSBjb250YWluZXJcbiAgICAgICAgICAgIHNvdXJjZS5hcHBlbmQobGVucyk7XG4gICAgICAgICAgICBpZiAoY3VycmVudC5vcHRpb25zLmZhZGVJbikge1xuICAgICAgICAgICAgICB0aW50LmZhZGVUbygzMDAsIGN1cnJlbnQub3B0aW9ucy50aW50T3BhY2l0eSk7XG4gICAgICAgICAgICAgIGxlbnMuZmFkZVRvKDMwMCwgMSk7XG4gICAgICAgICAgICAgIHByZXZpZXcuZmFkZVRvKDMwMCwxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRpbnQuY3NzKHtvcGFjaXR5OiBjdXJyZW50Lm9wdGlvbnMudGludE9wYWNpdHl9KTtcbiAgICAgICAgICAgICAgbGVucy5jc3Moe29wYWNpdHk6IDF9KTtcbiAgICAgICAgICAgICAgcHJldmlldy5jc3Moe29wYWNpdHk6IDF9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQub3B0aW9ucy5mYWRlSW4pIHtcbiAgICAgICAgICAgICAgcHJldmlldy5mYWRlVG8oMzAwLDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHJldmlldy5jc3Moe29wYWNpdHk6IDF9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY3VycmVudC5vcHRpb25zLnRpdGxlICYmIHRpdGxlICE9ICcnKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudC5vcHRpb25zLmZhZGVJbikgY2FwdGlvbl9jb250YWluZXIuZmFkZVRvKDMwMCwxKTsgZWxzZSBjYXB0aW9uX2NvbnRhaW5lci5jc3Moe29wYWNpdHk6IDF9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY3VycmVudC5vcHRpb25zLmFkYXB0aXZlKSB7XG4gICAgICAgICAgLy9JbWFnZXMgY29ycmVjdGlvbnMgZm9yIGFkYXB0aXZlXG4gICAgICAgICAgICBpZiAoc3c8b3N3IHx8IHNoPG9zaCkge1xuICAgICAgICAgICAgICBsZW5zSW1nLndpZHRoKHN3KTtcbiAgICAgICAgICAgICAgbGVuc0ltZy5oZWlnaHQoc2gpO1xuXG4gICAgICAgICAgICAgIGltZ09iandpZHRoID0gc3cvb3N3ICogaW1nT2Jqd2lkdGg7XG4gICAgICAgICAgICAgIGltZ09iamhlaWdodCA9IHNoL29zaCAqIGltZ09iamhlaWdodDtcblxuICAgICAgICAgICAgICBpbWdPYmoud2lkdGgoaW1nT2Jqd2lkdGgpO1xuICAgICAgICAgICAgICBpbWdPYmouaGVpZ2h0KGltZ09iamhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy9DYWxjdWxhdGUgbGVucyBzaXplXG4gICAgICAgICAgbHN1ID0gc3UgPSBpbWdPYmp3aWR0aDtcbiAgICAgICAgICBsc3YgPSBzdiA9IGltZ09iamhlaWdodDtcbiAgICAgICAgICBpd2ggPSBpbWdPYmp3aWR0aCAvIGltZ09iamhlaWdodDtcbiAgICAgICAgICBjMSA9IGltZ09iandpZHRoIC8gbXc7XG4gICAgICAgICAgYzIgPSBpbWdPYmpoZWlnaHQgLyBtaDtcbiAgICAgICAgICAvL291dGVySGVpZ2h0IGFuZCBvdXRlcldpZHRoIHdvcmsgd3Jvbmcgc29tZXRpbWVzLCBlc3BlY2lhbGx5IHdoZW4gd2UgdXNlIGluaXQoKSBmdW5jdGlvblxuICAgICAgICAgIC8vbHRjID0gbGVucy5vdXRlckhlaWdodCgpIC8gMjtcbiAgICAgICAgICAvL2xsYyA9IGxlbnMub3V0ZXJXaWR0aCgpIC8gMjtcbiAgICAgICAgICAvL0lzc3VlICMyIFRlc3QgLmNzcygpIGZ1bmN0aW9uIHRoYXQgY2FuIHJldHVybiBOYU4gYW5kIGJyZWFrIGxlbnMgb2JqZWN0IHBvc2l0aW9uXG4gICAgICAgICAgdmFyIHQsIG8gPSBbJ3BhZGRpbmctJywnYm9yZGVyLSddO1xuICAgICAgICAgIGx0YyA9IGxsYyA9IDA7XG4gICAgICAgICAgZm9yKHZhciBpID0gMDsgaTxvLmxlbmd0aDtpKyspIHtcbiAgICAgICAgICAgIHQgPSBwYXJzZUZsb2F0KGxlbnMuY3NzKG9baV0rJ3RvcC13aWR0aCcpKTtcbiAgICAgICAgICAgIGx0YyArPSB0ICE9PSB0ID8gMCA6IHQ7XG4gICAgICAgICAgICB0ID0gcGFyc2VGbG9hdChsZW5zLmNzcyhvW2ldKydib3R0b20td2lkdGgnKSk7XG4gICAgICAgICAgICBsdGMgKz0gdCAhPT0gdCA/IDAgOiB0O1xuICAgICAgICAgICAgdCA9IHBhcnNlRmxvYXQobGVucy5jc3Mob1tpXSsnbGVmdC13aWR0aCcpKTtcbiAgICAgICAgICAgIGxsYyArPSB0ICE9PSB0ID8gMCA6IHQ7XG4gICAgICAgICAgICB0ID0gcGFyc2VGbG9hdChsZW5zLmNzcyhvW2ldKydyaWdodC13aWR0aCcpKTtcbiAgICAgICAgICAgIGxsYyArPSB0ICE9PSB0ID8gMCA6IHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGx0YyAvPSAyO1xuICAgICAgICAgIGxsYyAvPSAyO1xuICAgICAgICAgIC8vbHRjID0gKHBhcnNlRmxvYXQobGVucy5jc3MoJ3BhZGRpbmctdG9wLXdpZHRoJykpICsgcGFyc2VGbG9hdChsZW5zLmNzcygncGFkZGluZy1ib3R0b20td2lkdGgnKSkgKyBwYXJzZUZsb2F0KGxlbnMuY3NzKCdib3JkZXItdG9wLXdpZHRoJykpICsgcGFyc2VGbG9hdChsZW5zLmNzcygnYm9yZGVyLWJvdHRvbS13aWR0aCcpKSkgLyAyO1xuICAgICAgICAgIC8vbGxjID0gKHBhcnNlRmxvYXQobGVucy5jc3MoJ3BhZGRpbmctbGVmdC13aWR0aCcpKSArIHBhcnNlRmxvYXQobGVucy5jc3MoJ3BhZGRpbmctcmlnaHQtd2lkdGgnKSkgKyBwYXJzZUZsb2F0KGxlbnMuY3NzKCdib3JkZXItbGVmdC13aWR0aCcpKSArIHBhcnNlRmxvYXQobGVucy5jc3MoJ2JvcmRlci1yaWdodC13aWR0aCcpKSkgLyAyO1xuICAgICAgICAgIC8vbHRjID0gKHBiKGxlbnMsICdwYWRkaW5nJywgMSkgKyBwYihsZW5zLCAnYm9yZGVyJywgMSkpIC8gMjtcbiAgICAgICAgICAvL2xsYyA9IChwYihsZW5zLCAncGFkZGluZycsIDApICsgcGIobGVucywgJ2JvcmRlcicsIDApKSAvIDI7XG4gICAgICAgICAgbGx1ID0gbHUgPSB1ID0gbXg7XG4gICAgICAgICAgbGx2ID0gbHYgPSB2ID0gbXk7XG4gICAgICAgICAgeHNjYWxlKG14LCBteSk7XG5cbiAgICAgICAgICBpZiAoY3VycmVudC5vcHRpb25zLnNtb290aCkge2ZsYWcgPSB0cnVlOyByZXF1ZXN0QW5pbUZyYW1lKGxvb3Bab29tKTt9XG5cbiAgICAgICAgICBjdXJyZW50LmV2ZW50Y2xpY2soc291cmNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLypmdW5jdGlvbiBwYihvYmosIG5hbWUsIGRpcikge1xuICAgICAgaWYgKGRpcikge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChvYmouY3NzKG5hbWUgKyAnLXRvcCcpKSArIHBhcnNlRmxvYXQob2JqLmNzcyhuYW1lICsgJy1ib3R0b20nKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChvYmouY3NzKG5hbWUgKyAnLWxlZnQnKSkgKyBwYXJzZUZsb2F0KG9iai5jc3MobmFtZSArICctcmlnaHQnKSk7XG4gICAgICB9XG4gICAgfSovXG5cbiAgICB0aGlzLm1vdmV6b29tID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIG14ID0gZXZlbnQucGFnZVg7XG4gICAgICBteSA9IGV2ZW50LnBhZ2VZO1xuICAgICAgaWYgKGllKSB7XG4gICAgICAgIGlleCA9IG14O1xuICAgICAgICBpZXkgPSBteTtcbiAgICAgIH1cblxuICAgICAgdmFyIHggPSBteCAtIHNsZWZ0O1xuICAgICAgdmFyIHkgPSBteSAtIHN0b3A7XG5cbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIGV2ZW50LnBhZ2VYIC09ICh4IC0gc3cgLyAyKSAqIDI7XG4gICAgICAgIGV2ZW50LnBhZ2VZIC09ICh5IC0gc2ggLyAyKSAqIDI7XG4gICAgICB9XG5cbiAgICAgIGlmICh4IDwgMCB8fCB4ID4gc3cgfHwgeSA8IDAgfHwgeSA+IHNoKSBzb3VyY2UudHJpZ2dlcignbW91c2VsZWF2ZScpO1xuICAgICAgaWYgKGN1cnJlbnQub3B0aW9ucy5zbW9vdGgpIHtcbiAgICAgICAgdSA9IGV2ZW50LnBhZ2VYO1xuICAgICAgICB2ID0gZXZlbnQucGFnZVk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL0NhbGN1bGF0ZSB6b29tIGltYWdlIHBvc2l0aW9uXG4gICAgICAgIGxlbnNTaGFwZSgpO1xuICAgICAgICBzZXRfbGVucyhldmVudC5wYWdlWCwgZXZlbnQucGFnZVkpO1xuICAgICAgICBsZW5zLmNzcyh7dG9wOiBsdCAtIGx0YywgbGVmdDogbGwgLSBsbGN9KTtcbiAgICAgICAgbGVuc0ltZy5jc3Moe3RvcDogLWx0LCBsZWZ0OiAtbGx9KTtcbiAgICAgICAgbGVuc091dHB1dChldmVudC5wYWdlWCxldmVudC5wYWdlWSwgMCwgMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5ldmVudGRlZmF1bHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGN1cnJlbnQuZXZlbnRvcGVuID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50LnhvbignbW91c2VlbnRlcicsIGN1cnJlbnQub3Blbnpvb20pO1xuICAgICAgfVxuXG4gICAgICBjdXJyZW50LmV2ZW50bGVhdmUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQueG9uKCdtb3VzZWxlYXZlJywgY3VycmVudC5jbG9zZXpvb20pO1xuICAgICAgfVxuXG4gICAgICBjdXJyZW50LmV2ZW50bW92ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC54b24oJ21vdXNlbW92ZScsIGN1cnJlbnQubW92ZXpvb20pO1xuICAgICAgfVxuXG4gICAgICBjdXJyZW50LmV2ZW50c2Nyb2xsID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50LnhvbignbW91c2V3aGVlbCBET01Nb3VzZVNjcm9sbCcsIGN1cnJlbnQueHNjcm9sbCk7XG4gICAgICB9XG5cbiAgICAgIGN1cnJlbnQuZXZlbnRjbGljayA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC54b24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICBtT2JqLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZXZlbnR1bmJpbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIG1PYmoueG9mZignbW91c2VlbnRlcicpO1xuICAgICAgY3VycmVudC5ldmVudG9wZW4gPSBmdW5jdGlvbihlbGVtZW50KSB7fVxuICAgICAgY3VycmVudC5ldmVudGxlYXZlID0gZnVuY3Rpb24oZWxlbWVudCkge31cbiAgICAgIGN1cnJlbnQuZXZlbnRtb3ZlID0gZnVuY3Rpb24oZWxlbWVudCkge31cbiAgICAgIGN1cnJlbnQuZXZlbnRzY3JvbGwgPSBmdW5jdGlvbihlbGVtZW50KSB7fVxuICAgICAgY3VycmVudC5ldmVudGNsaWNrID0gZnVuY3Rpb24oZWxlbWVudCkge31cbiAgICB9XG5cbiAgICB0aGlzLmluaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgLy9EZWZhdWx0IG9wdGlvbnNcbiAgICAgIGN1cnJlbnQub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCQuZm4ueHpvb20uZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICBpZiAoY3VycmVudC5vcHRpb25zLnJvb3RPdXRwdXQpIHtcbiAgICAgICAgcGFyZW50ID0gJChcImJvZHlcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnQgPSBtT2JqLnBhcmVudCgpO1xuICAgICAgfVxuXG4gICAgICBvcG9zaXRpb24gPSBjdXJyZW50Lm9wdGlvbnMucG9zaXRpb247IC8vb2NvZixcblxuICAgICAgcmV2ZXJzZSA9IGN1cnJlbnQub3B0aW9ucy5sZW5zUmV2ZXJzZSAmJiBjdXJyZW50Lm9wdGlvbnMucG9zaXRpb24gPT0gJ2luc2lkZSc7XG5cbiAgICAgIC8vTGltaXRzXG4gICAgICBpZiAoY3VycmVudC5vcHRpb25zLnNtb290aFpvb21Nb3ZlIDwgMSkgY3VycmVudC5vcHRpb25zLnNtb290aFpvb21Nb3ZlID0gMTtcbiAgICAgIGlmIChjdXJyZW50Lm9wdGlvbnMuc21vb3RoTGVuc01vdmUgPCAxKSBjdXJyZW50Lm9wdGlvbnMuc21vb3RoTGVuc01vdmUgPSAxO1xuICAgICAgaWYgKGN1cnJlbnQub3B0aW9ucy5zbW9vdGhTY2FsZSA8IDEpIGN1cnJlbnQub3B0aW9ucy5zbW9vdGhTY2FsZSA9IDE7XG5cbiAgICAgIC8vc21vb3RoTm9ybWFsID0gY3VycmVudC5vcHRpb25zLnNtb290aFpvb21Nb3ZlICYmIGN1cnJlbnQub3B0aW9ucy5zbW9vdGhMZW5zTW92ZSAmJiBjdXJyZW50Lm9wdGlvbnMuc21vb3RoU2NhbGU7XG5cbiAgICAgIC8vQWRhcHRpdmVcbiAgICAgIGlmIChjdXJyZW50Lm9wdGlvbnMuYWRhcHRpdmUpIHtcbiAgICAgICAgJCh3aW5kb3cpLnhvbignbG9hZCcsZnVuY3Rpb24oKXtcbiAgICAgICAgICBvc3cgPSBtT2JqLndpZHRoKCk7XG4gICAgICAgICAgb3NoID0gbU9iai5oZWlnaHQoKTtcblxuICAgICAgICAgIGN1cnJlbnQuYWRhcHRpdmUoKTtcbiAgICAgICAgICAkKHdpbmRvdykucmVzaXplKGN1cnJlbnQuYWRhcHRpdmUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnQuZXZlbnRkZWZhdWx0KCk7XG4gICAgICBjdXJyZW50LmV2ZW50b3BlbihtT2JqKTtcbiAgICB9XG5cbiAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgIGN1cnJlbnQuZXZlbnR1bmJpbmQoKTtcbiAgICB9XG5cbiAgICB0aGlzLmNsb3Nlem9vbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgZmxhZyA9IGZhbHNlO1xuICAgICAgaWYgKGN1cnJlbnQub3B0aW9ucy5mYWRlT3V0KSB7XG4gICAgICAgIGlmIChjdXJyZW50Lm9wdGlvbnMudGl0bGUgJiYgdGl0bGUgIT0gJycpIGNhcHRpb25fY29udGFpbmVyLmZhZGVPdXQoMjk5KTtcbiAgICAgICAgaWYgKGN1cnJlbnQub3B0aW9ucy5wb3NpdGlvbiAhPSAnaW5zaWRlJyB8fCBjdXJyZW50Lm9wdGlvbnMucG9zaXRpb24gIT0gJ2Z1bGxzY3JlZW4nKSB7XG4gICAgICAgICAgcHJldmlldy5mYWRlT3V0KDI5OSk7XG4gICAgICAgICAgc291cmNlLmZhZGVPdXQoMzAwLCBmdW5jdGlvbigpe3hyZW1vdmUoKX0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNvdXJjZS5mYWRlT3V0KDMwMCwgZnVuY3Rpb24oKXt4cmVtb3ZlKCl9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeHJlbW92ZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZ2FsbGVyeSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGcgPSBuZXcgQXJyYXkoKTtcbiAgICAgIHZhciBpLGogPSAwO1xuICAgICAgZm9yIChpID0gY2luZGV4OyBpPGltYWdlR2FsbGVyeS5sZW5ndGg7IGkrKykge1xuICAgICAgICBnW2pdID0gaW1hZ2VHYWxsZXJ5W2ldO2orKztcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IDA7IGk8Y2luZGV4OyBpKyspIHtcbiAgICAgICAgZ1tqXSA9IGltYWdlR2FsbGVyeVtpXTtqKys7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7aW5kZXg6IGNpbmRleCwgb2dhbGxlcnk6IGltYWdlR2FsbGVyeSwgY2dhbGxlcnk6IGd9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldF90aXRsZShlbGVtZW50KSB7XG4gICAgICB2YXIgb3RpdGxlID0gZWxlbWVudC5hdHRyKCd0aXRsZScpO1xuICAgICAgdmFyIHhvdGl0bGUgPSBlbGVtZW50LmF0dHIoJ3h0aXRsZScpO1xuICAgICAgaWYgKHhvdGl0bGUpIHtcbiAgICAgICAgcmV0dXJuIHhvdGl0bGU7XG4gICAgICB9IGVsc2UgaWYgKG90aXRsZSkge1xuICAgICAgICByZXR1cm4gb3RpdGxlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy54YXBwZW5kID0gZnVuY3Rpb24oT2JqKSB7XG4gICAgICB2YXIgbGluayA9IE9iai5wYXJlbnQoKTtcbiAgICAgIC8vQWRkIG9yaWdpbmFsIGltYWdlIHRvIGltYWdlIGdhbGxlcnlcbiAgICAgIGltYWdlR2FsbGVyeVtpbmRleF0gPSBsaW5rLmF0dHIoJ2hyZWYnKTtcbiAgICAgIGxpbmsuZGF0YSgneGluZGV4JywgaW5kZXgpO1xuICAgICAgaWYgKGluZGV4ID09IDAgJiYgY3VycmVudC5vcHRpb25zLmFjdGl2ZUNsYXNzKSB7YWN0aXZlID0gT2JqOyBhY3RpdmUuYWRkQ2xhc3MoY3VycmVudC5vcHRpb25zLmFjdGl2ZUNsYXNzKX1cbiAgICAgIGlmIChpbmRleCA9PSAwICYmIGN1cnJlbnQub3B0aW9ucy50aXRsZSkgdGl0bGUgPSBnZXRfdGl0bGUoT2JqKTtcbiAgICAgIGluZGV4Kys7XG5cbiAgICAgIGZ1bmN0aW9uIHRodW1iY2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIHhyZW1vdmUoKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGN1cnJlbnQub3B0aW9ucy5hY3RpdmVDbGFzcykge1xuICAgICAgICAgIGFjdGl2ZS5yZW1vdmVDbGFzcyhjdXJyZW50Lm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xuICAgICAgICAgIGFjdGl2ZSA9IE9iajtcbiAgICAgICAgICBhY3RpdmUuYWRkQ2xhc3MoY3VycmVudC5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgICBjaW5kZXggPSAkKHRoaXMpLmRhdGEoJ3hpbmRleCcpO1xuICAgICAgICBpZiAoY3VycmVudC5vcHRpb25zLmZhZGVUcmFucykge1xuICAgICAgICAgIHRyYW5zSW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgdHJhbnNJbWcuc3JjID0gbU9iai5hdHRyKCdzcmMnKTtcbiAgICAgICAgICB0cmFucyA9ICQodHJhbnNJbWcpO1xuICAgICAgICAgIHRyYW5zLmNzcyh7cG9zaXRpb246ICdhYnNvbHV0ZScsIHRvcDogbU9iai5vZmZzZXQoKS50b3AsIGxlZnQ6IG1PYmoub2Zmc2V0KCkubGVmdCwgd2lkdGg6IG1PYmoud2lkdGgoKSwgaGVpZ2h0OiBtT2JqLmhlaWdodCgpfSk7XG4gICAgICAgICAgJChkb2N1bWVudC5ib2R5KS5hcHBlbmQodHJhbnMpO1xuICAgICAgICAgIHRyYW5zLmZhZGVPdXQoMjAwLCBmdW5jdGlvbigpIHt0cmFucy5yZW1vdmUoKX0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfeG9yaWcgPSBsaW5rLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgdmFyIF9wcmV2ID0gT2JqLmF0dHIoJ3hwcmV2aWV3JykgfHwgT2JqLmF0dHIoJ3NyYycpO1xuXG4gICAgICAgIHRpdGxlID0gZ2V0X3RpdGxlKE9iaik7XG4gICAgICAgIGlmIChPYmouYXR0cigndGl0bGUnKSkgbU9iai5hdHRyKCd0aXRsZScsT2JqLmF0dHIoJ3RpdGxlJykpO1xuXG4gICAgICAgIC8vaW1nT2JqLmF0dHIoJ3NyYycsX3hvcmlnKTtcbiAgICAgICAgbU9iai5hdHRyKCd4b3JpZ2luYWwnLF94b3JpZyk7XG4gICAgICAgIG1PYmoucmVtb3ZlQXR0cignc3R5bGUnKTtcbiAgICAgICAgbU9iai5hdHRyKCdzcmMnLCBfcHJldik7XG4gICAgICAgIGlmIChjdXJyZW50Lm9wdGlvbnMuYWRhcHRpdmUpIHtcbiAgICAgICAgICBvc3cgPSBtT2JqLndpZHRoKCk7XG4gICAgICAgICAgb3NoID0gbU9iai5oZWlnaHQoKTtcbiAgICAgICAgfVxuICAgICAgICAvL1ByZXZlbnQgc3VibWl0IG9uIGNsaWNrXG4gICAgICAgIC8vcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3VycmVudC5vcHRpb25zLmhvdmVyKSB7XG4gICAgICAgIGxpbmsueG9uKCdtb3VzZWVudGVyJywgbGluaywgdGh1bWJjaGFuZ2UpO1xuICAgICAgfVxuICAgICAgbGluay54b24oJ2NsaWNrJywgbGluaywgdGh1bWJjaGFuZ2UpO1xuICAgIH1cblxuICAgIHRoaXMuaW5pdChvcHRzKTtcbiAgfVxuXG4gICAgJC5mbi54em9vbSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBtYWluT2JqO1xuICAgICAgdmFyIHNlY09iajtcblxuICAgICAgaWYgKHRoaXMuc2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIGVsID0gdGhpcy5zZWxlY3Rvci5zcGxpdChcIixcIik7XG4gICAgICAgIGZvciAodmFyIGkgaW4gZWwpIGVsW2ldID0gJC50cmltKGVsW2ldKTtcbiAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgaWYgKGVsLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT0gMCkge1xuICAgICAgICAgICAgICAvL01haW4gd2luZG93IGVsZW1lbnRcbiAgICAgICAgICAgICAgbWFpbk9iaiA9ICQodGhpcyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mKG1haW5PYmouZGF0YSgneHpvb20nKSkgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gbWFpbk9iai5kYXRhKCd4em9vbScpO1xuICAgICAgICAgICAgICBtYWluT2JqLnggPSBuZXcgeG9iamVjdChtYWluT2JqLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZih0eXBlb2YobWFpbk9iai54KSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgLy9UaHVtYnNcbiAgICAgICAgICAgICAgc2VjT2JqID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgbWFpbk9iai54LnhhcHBlbmQoc2VjT2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCQodGhpcykuaXMoZWxbMF0pICYmIGluZGV4ID09IDApIHtcbiAgICAgICAgICAgICAgLy9NYWluIHdpbmRvdyBlbGVtZW50XG4gICAgICAgICAgICAgIG1haW5PYmogPSAkKHRoaXMpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZihtYWluT2JqLmRhdGEoJ3h6b29tJykpICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIG1haW5PYmouZGF0YSgneHpvb20nKTtcbiAgICAgICAgICAgICAgbWFpbk9iai54ID0gbmV3IHhvYmplY3QobWFpbk9iaiwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYodHlwZW9mKG1haW5PYmoueCkgIT09ICd1bmRlZmluZWQnICYmICEkKHRoaXMpLmlzKGVsWzBdKSkge1xuICAgICAgICAgICAgICAvL1RodW1ic1xuICAgICAgICAgICAgICBzZWNPYmogPSAkKHRoaXMpO1xuICAgICAgICAgICAgICBtYWluT2JqLngueGFwcGVuZChzZWNPYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgdGhpcy5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA9PSAwKSB7XG4gICAgICAgICAgLy9NYWluIHdpbmRvdyBlbGVtZW50XG4gICAgICAgICAgbWFpbk9iaiA9ICQodGhpcyk7XG4gICAgICAgICAgaWYgKHR5cGVvZihtYWluT2JqLmRhdGEoJ3h6b29tJykpICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIG1haW5PYmouZGF0YSgneHpvb20nKTtcbiAgICAgICAgICBtYWluT2JqLnggPSBuZXcgeG9iamVjdChtYWluT2JqLCBvcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIGlmKHR5cGVvZihtYWluT2JqLngpICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIC8vVGh1bWJzXG4gICAgICAgICAgc2VjT2JqID0gJCh0aGlzKTtcbiAgICAgICAgICBtYWluT2JqLngueGFwcGVuZChzZWNPYmopO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICh0eXBlb2YobWFpbk9iaikgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gICAgICBtYWluT2JqLmRhdGEoJ3h6b29tJywgbWFpbk9iai54KTtcblxuICAgICAgLy9GaXJlIGV2ZW50IHh6b29tIGluaXRcbiAgICAgICQobWFpbk9iaikudHJpZ2dlcigneHpvb21fcmVhZHknKTtcbiAgICAgIHJldHVybiBtYWluT2JqLng7XG4gICAgfVxuXG4gICQuZm4ueHpvb20uZGVmYXVsdHMgPSB7XG4gICAgcG9zaXRpb246ICdyaWdodCcsIC8vdG9wLCBsZWZ0LCByaWdodCwgYm90dG9tLCBpbnNpZGUsIGxlbnMsIGZ1bGxzY3JlZW4sICNJRFxuICAgIG1wb3NpdGlvbjogJ2luc2lkZScsIC8vaW5zaWRlLCBmdWxsc2NyZWVuXG4gICAgcm9vdE91dHB1dDogdHJ1ZSxcbiAgICBYb2Zmc2V0OiAwLFxuICAgIFlvZmZzZXQ6IDAsXG4gICAgZmFkZUluOiB0cnVlLFxuICAgIGZhZGVUcmFuczogdHJ1ZSxcbiAgICBmYWRlT3V0OiBmYWxzZSxcbiAgICBzbW9vdGg6IHRydWUsXG4gICAgc21vb3RoWm9vbU1vdmU6IDMsXG4gICAgc21vb3RoTGVuc01vdmU6IDEsXG4gICAgc21vb3RoU2NhbGU6IDYsXG4gICAgZGVmYXVsdFNjYWxlOiAwLCAvL2Zyb20gLTEgdG8gMSwgdGhhdCBtZWFucyAtMTAwJSB0aWxsIDEwMCUgc2NhbGVcbiAgICBzY3JvbGw6IHRydWUsXG4gICAgdGludDogZmFsc2UsIC8vJyNjb2xvcidcbiAgICB0aW50T3BhY2l0eTogMC41LFxuICAgIGxlbnM6IGZhbHNlLCAvLycjY29sb3InXG4gICAgbGVuc09wYWNpdHk6IDAuNSxcbiAgICBsZW5zU2hhcGU6ICdib3gnLCAvLydib3gnLCAnY2lyY2xlJ1xuICAgIGxlbnNDb2xsaXNpb246IHRydWUsXG4gICAgbGVuc1JldmVyc2U6IGZhbHNlLFxuICAgIG9wZW5PblNtYWxsOiB0cnVlLFxuICAgIHpvb21XaWR0aDogJ2F1dG8nLFxuICAgIHpvb21IZWlnaHQ6ICdhdXRvJyxcbiAgICBzb3VyY2VDbGFzczogJ3h6b29tLXNvdXJjZScsXG4gICAgbG9hZGluZ0NsYXNzOiAneHpvb20tbG9hZGluZycsXG4gICAgbGVuc0NsYXNzOiAneHpvb20tbGVucycsXG4gICAgem9vbUNsYXNzOiAneHpvb20tcHJldmlldycsXG4gICAgYWN0aXZlQ2xhc3M6ICd4YWN0aXZlJyxcbiAgICBob3ZlcjogZmFsc2UsXG4gICAgYWRhcHRpdmU6IHRydWUsXG4gICAgYWRhcHRpdmVSZXZlcnNlOiBmYWxzZSxcbiAgICB0aXRsZTogZmFsc2UsXG4gICAgdGl0bGVDbGFzczogJ3h6b29tLWNhcHRpb24nLFxuICAgIGJnOiBmYWxzZSAvL3pvb20gaW1hZ2Ugb3V0cHV0IGFzIGJhY2tncm91bmRcbiAgfTtcbn0pKGpRdWVyeSk7Il19
